<?php/* *  @autor      Pedro Estácio <pedro.estacio@quad-systems.com> *  @projeto    QUAD-HCM *  @versão     1.0 *  @revisão    2018.01.01 *  @copyright  (c) 2018 QuadSystems - http://www.quad-systems.com *  @nome       quad_menu_gestor.php *  @descrição  Menu aplicacional associado ao perfil de gestor * */        $gestao_doc = estado_modulo(29, $msg);    $delegacoes = estado_modulo(30, $msg);    $premios_coeficiente = estado_modulo(31, $msg); //Prémios por Coeficiente (DK)    $av_desempenho = estado_modulo(16, $msg);    $formacao = estado_modulo(17, $msg);//Inicializações$premios_coef_oper = array();$premios_coef_config = array();/*// matrizes de navegação para o módulo de prémios p/ coeficientes * Conversão: *      variável $page_nav passa para a $_nav *      entrada --> "sub" => "items"  *      atenção os icons -> não pode existir um icon "fa-..." *  *  * if ($premios_coeficiente) { //Configuração dos Prémios por Coeficiente    $premios_coef_oper = array(        "prmcoef_oper_1" => array(            "title" => $ui_coefficients,            "icon" => "fas fa-edit",            "url" => "ajax/dk_coefficients.php",            "li_class" => "ripple grey",            'active' => false        ),        "prmcoef_oper_2" => array(            "title" => $ui_results,            "icon" => "fas fa-edit",            "url" => "ajax/dk_results.php",            "li_class" => "ripple grey",            'active' => false        ),        "prmcoef_oper_3" => array(            "title" => $ui_business_indicators,            "icon" => "fas fa-arrow-right",            "li_class" => "",            "items" => array(                "dk_manutVals" => array(                    "title" => $ui_values,                    "icon" => "fas fa-edit",                    "url" => "ajax/dk_maintenance_values.php",                    "li_class" => "ripple grey",                    'active' => false                ),                        "dk_inputVals" => array(                    "title" => $ui_import_log,                    "icon" => "fas fa-edit",                    "url" => "ajax/dk_load_values.php",                    "li_class" => "ripple grey",                    'active' => false                ),                )        ),    );        $premios_coef_config = array(        "dk_ccr_env" => array(            "title" => $ui_environment,            "icon" => "fas fa-edit",            "url" => "ajax/dk_rewards_coef_environment.php",            "li_class" => "ripple grey",            'active' => false        ),        "dk_ccr_conf" => array(            "title" => $ui_configs,            "icon" => "fas fa-edit",            "url" => "ajax/dk_matrix.php",            "li_class" => "ripple grey",            'active' => false        ),        "dk_profile" => array(            "title" => "Gestão Perfis",            "icon" => "fas fa-edit",            "url" => "ajax/dk_profile_manage.php",            "li_class" => "ripple grey",            'active' => false        ),    );}if ($gestao_doc && $delegacoes && $premios_coeficiente) {    $_nav = array(        "home" => array(            "title" => 'QUAD-HCM', //$ui_admin,            "icon" => "fas fa-users",            "url" => "ajax/dashboard.php",            'active' => true,            "li_class" => "",            "items" => array(                "gd_home" => array(                    "title" => $ui_home,                    "icon" => "fa-home",                    "url" => "ajax/dashboard.php",                    "li_class" => "ripple grey",                    'active' => false,                ),                            "coefprm_oper" => array(                    "title" => $ui_coefficient_rewards,                    "icon" => "fas fa-arrow-right",                    "li_class" => "",                    "items" => $premios_coef_oper,                ),                                     "gd_oper" => array(                    "title" => $ui_docs_management,                    "icon" => "fas fa-arrow-right",                    "li_class" => "",                    "items" => array(                        "gd_oper_1" => array(                            "title" => $ui_processes,                            "icon" => "fas fa-edit",                            "url" => "ajax/gd_rhid_document_management.php",                            "li_class" => "ripple grey",                            'active' => false                        ),                        "gd_oper_auto" => array(                            "title" => $ui_macro_processes,                            "icon" => "fas fa-edit",                            "url" => "ajax/gd_template_auto.php",                            "li_class" => "ripple grey",                            'active' => false                        ),                    )                ),                "rhid_delegations" => array(                    "title" => $ui_delegations,                    "icon" => "fas fa-edit",                    "url" => "ajax/rhid_delegations.php",                    "li_class" => "ripple grey",                    'active' => false                ),                            "hcm_param" => array(                    "title" => $ui_params,                    "icon" => "fa fa-cubes",                    "li_class" => "",                    "items" => array(                        "premios_coeficiente" => array(                            "title" => $ui_coefficient_rewards,                            "icon" => "fas fa-arrow-right",                            "li_class" => "",                            "items" => $premios_coef_config,                        ),                        "docs_management" => array(                            "title" => $ui_docs_management,                            "icon" => "fas fa-arrow-right",                            "li_class" => "",                            "items" => array(                                "gd_resources" => array(                                    "title" => $ui_resources,                                    "icon" => "fas fa-edit",                                    "url" => "ajax/gd_resources.php",                                    "li_class" => "ripple grey",                                    'active' => false,                                ),                                "gd_config" => array(                                    "title" => $ui_models,                                    "icon" => "fas fa-edit",                                    "url" => "ajax/gd_model_definiton.php",                                    "li_class" => "ripple grey",                                    'active' => false,                                )                            )                        ),                        "configs" => array(                            "title" => $ui_configs,                            "icon" => "fas fa-edit",                            "url" => "ajax/dg_domains_definiton.php",                            "li_class" => "ripple grey",                            'active' => false,                        )                                        )                )            )        )    );        } elseif ($gestao_doc && !$delegacoes && $premios_coeficiente) {        $_nav = array(        "home" => array(            "title" => 'QUAD-HCM', //$ui_admin,            "icon" => "fas fa-users",            "url" => "ajax/dashboard.php",            'active' => true,            "li_class" => "",            "items" => array(                "gd_home" => array(                    "title" => $ui_home,                    "icon" => "fa-home",                    "url" => "ajax/dashboard.php",                    "li_class" => "ripple grey",                    'active' => false,                ),                          "coefprm_oper" => array(                    "title" => $ui_coefficient_rewards,                    "icon" => "fas fa-arrow-right",                    "li_class" => "",                    "items" => $premios_coef_oper,                ),                                     "gd_oper" => array(                    "title" => $ui_docs_management,                    "icon" => "fas fa-arrow-right",                    "li_class" => "",                    "items" => array(                        "gd_oper_1" => array(                            "title" => $ui_processes,                            "icon" => "fas fa-edit",                            "url" => "ajax/gd_rhid_document_management.php",                            "li_class" => "ripple grey",                            'active' => false                        ),                        "gd_oper_auto" => array(                            "title" => $ui_macro_processes,                            "icon" => "fas fa-edit",                            "url" => "ajax/gd_template_auto.php",                            "li_class" => "ripple grey",                            'active' => false                        ),                    )                ),                "hcm_param" => array(                    "title" => $ui_params,                    "icon" => "fa fa-cubes",                    "li_class" => "",                    "items" => array(                        "premios_coeficiente" => array(                            "title" => $ui_coefficient_rewards,                            "icon" => "fas fa-arrow-right",                            "li_class" => "",                            "items" => $premios_coef_config,                        ),                                                "docs_management" => array(                            "title" => $ui_docs_management,                            "icon" => "fas fa-arrow-right",                            "li_class" => "",                            "items" => array(                                "gd_resources" => array(                                    "title" => $ui_resources,                                    "icon" => "fas fa-edit",                                    "url" => "ajax/gd_resources.php",                                    "li_class" => "ripple grey",                                    'active' => false,                                ),                                "gd_config" => array(                                    "title" => $ui_models,                                    "icon" => "fas fa-edit",                                    "url" => "ajax/gd_model_definiton.php",                                    "li_class" => "ripple grey",                                    'active' => false,                                )                            )                        )                    )                )            )        )    );    }*/    #    # ARVORE PRINCIPAL    $_nav = array();        # Cria nó principal da aplicação    $_nav["home"] = inicializa_no_menu('QUAD-HCM', "fas fa-users", "", "ajax/dashboard_gestor.php", true);        # Adiciona interface de entrada - dashboard    adiciona_interface($_nav["home"], "dashboard", $ui_home, "fas fa-home", "ajax/dashboard_gestor.php", "ripple grey", true);             # cadastro    adiciona_interface($_nav["home"], "cadastro", $ui_cadastre, "fas fa-user-edit", "ajax/rh_cadastro.php", "", false);             #     # GESTÃO DOCUMENTAL    $gestao_doc_oper_menu = array();    $gestao_doc_params_menu = array();    if ($gestao_doc) {        ## menu operacional da gestão documental        $gestao_doc_oper_menu = inicializa_no_menu($ui_docs_management, "fas fa-users", "", "", false);        # processos        adiciona_interface($gestao_doc_oper_menu, "gd_oper_1", $ui_processes, "fas fa-edit", "ajax/gd_rhid_document_management.php", "", false);                         # macro-processos        adiciona_interface($gestao_doc_oper_menu, "gd_oper_2", $ui_macro_processes, "fas fa-edit", "ajax/gd_template_auto.php", "", false);                 # macro-processos        adiciona_interface($gestao_doc_oper_menu, "gd_oper_3", $ui_renewals, "fas fa-edit", "ajax/gd_renew_contracts.php", "", false);                         ## menu parametrização da gestão documental        $gestao_doc_params_menu = inicializa_no_menu($ui_docs_management, "fas fa-users", "", "", false);                # recursos        adiciona_interface($gestao_doc_params_menu, "gd_param_1", $ui_resources, "fas fa-edit", "ajax/gd_resources.php", "", false);                         # configurações        adiciona_interface($gestao_doc_params_menu, "gd_param_2", $ui_models, "fas fa-edit", "ajax/gd_model_definiton.php", "", false);                         # adiciona neste ponto a componente operacional, a componente de parametrização é colocada no respetivo nó mais à frente        adiciona_conteudo_menu($_nav["home"], "gd_oper", $gestao_doc_oper_menu);              }            #     # DELEGAÇÕES    if ($delegacoes) {                # A árvore de delegações para o perfil Colaborador é apenas um interface,         #´pelo que se adiciona diretamente o interface à arvore principal        adiciona_interface($_nav["home"], "rhid_delegations", $ui_delegations, "fas fa-edit", "ajax/rhid_delegations.php", "ripple grey", false);             }             #     # COEFICIENTES DE PRÉMIOS    $premios_coef_oper_menu = array();    $premios_coef_config_menu = array();    if ($premios_coeficiente) {        # inicialização do nó operacional do módulo        $premios_coef_oper_menu = inicializa_no_menu($ui_coefficient_rewards, "fas fa-arrow-right", "", "", false);                # inicialização do nó de parâmetrização do módulo (será adicionada mais à frente        $premios_coef_config_menu = inicializa_no_menu($ui_coefficient_rewards, "fas fa-arrow-right", "", "", false);                #        # menu operacional                # menu de indicadores        $indicadores_menu = inicializa_no_menu($ui_business_indicators, "fas fa-arrow-right", "", "", false);         # interface de valores de indicadores        adiciona_interface($indicadores_menu, "dk_manutVals", $ui_values, "fas fa-edit", "ajax/dk_maintenance_values.php", "ripple grey", false);                 # interface de log de importação de valores        adiciona_interface($indicadores_menu, "dk_inputVals", $ui_import_log, "fas fa-edit", "ajax/dk_load_values.php", "ripple grey", false);                 # Customização do nó principal:        #        # interface de coeficientes        adiciona_interface($premios_coef_oper_menu, "prmcoef_oper_1", $ui_coefficients, "fas fa-edit", "ajax/dk_coefficients.php", "ripple grey", false);                         # adiciona o menu de indicadores ao menu principal        adiciona_conteudo_menu($premios_coef_oper_menu, "prmcoef_oper_2", $indicadores_menu);                  # adiciona ao menu principal do QUAD-HR        adiciona_conteudo_menu($_nav["home"], "prmcoef_oper", $premios_coef_oper_menu);          #        # menu parametrização                # ambiente        adiciona_interface($premios_coef_config_menu, "prmcoef_param_1", $ui_environment, "fas fa-edit", "ajax/dk_rewards_coef_environment.php", "ripple grey", false);        # configurações        adiciona_interface($premios_coef_config_menu, "prmcoef_param_2", $ui_configs, "fas fa-edit", "ajax/dk_matrix.php", "ripple grey", false);                # configurações        adiciona_interface($premios_coef_config_menu, "prmcoef_param_3", $ui_profiles_management, "fas fa-edit", "ajax/dk_profile_manage.php", "ripple grey", false);    }          #    # CAPITAL HUMANO    $cap_humano_oper_menu = array();    $cap_humano_param_menu = array();    $av_oper_menu = array();    $av_param_menu = array();    $form_oper_menu = array();    $form_param_menu = array();    $func_param_menu = array();        if ($av_desempenho || $formacao) {        #         # inicialização do nó capital humano        $cap_humano_oper_menu = inicializa_no_menu($ui_hcm, "fas fa-arrow-right", "", "", false);        $cap_humano_param_menu = inicializa_no_menu($ui_hcm, "fas fa-arrow-right", "", "", false);        #        # AVALIAÇÃO DE DESEMPENHO        if ($av_desempenho) {            #             # OPERAÇÃO                        # inicialização do nó operacional do módulo            $av_oper_menu = inicializa_no_menu($ui_performance_evaluation, "fas fa-arrow-right", "", "", false);            # interface de planos avaliação            adiciona_interface($av_oper_menu, "ad_plano_aval", $ui_evaluation_plans, "fas fa-edit", "ajax/ad_evaluation_plans.php", "ripple grey", false);                                 # interface de fichas avaliação            adiciona_interface($av_oper_menu, "ad_eval_sheets_frm", $ui_evaluation_sheets, "fas fa-edit", "ajax/ad_frm_employee_evaluation_sheet.php", "ripple grey", false);                     # interface de planos de desenvolvimento            adiciona_interface($av_oper_menu, "ad_eval_assessment", $ui_development_plans_long, "fas fa-edit", "ajax/ad_development_plans.php", "ripple grey", false);             # interface de planos de ação            adiciona_interface($av_oper_menu, "ad_shared_obj_plan", $ui_shared_objectives_plans, "fas fa-edit", "ajax/ad_shared_obj_plans.php", "ripple grey", false);             #             # PARAMETRIZAÇÃO            # inicialização do nó de parâmetrização do módulo (será adicionada mais à frente            $av_param_menu = inicializa_no_menu($ui_performance_evaluation, "fas fa-arrow-right", "", "", false);            # interface de ambiente            adiciona_interface($av_param_menu, "ad_ambiente", $ui_environment, "fas fa-edit", "ajax/ad_environment.php", "ripple grey", false);             # interface de objetivos            adiciona_interface($av_param_menu, "ad_objetivos", $ui_objectives, "fas fa-edit", "ajax/ad_objectives.php", "ripple grey", false);                         # interface de equipas            adiciona_interface($av_param_menu, "ad_teams", $ui_teams, "fas fa-edit", "ajax/ad_teams_shared_objectives.php", "ripple grey", false);                         # interface de comités            adiciona_interface($av_param_menu, "ad_comite_calib", $ui_calibration_committees, "fas fa-edit", "ajax/ad_calibration_committees.php", "ripple grey", false);                                     # inicialização do nó de parâmetrização do módulo Funções (necessário para a avaliação de desempenho)            $func_param_menu = inicializa_no_menu($ui_functions_and_skills, "fas fa-arrow-right", "", "", false);            # interface de carateristicas            adiciona_interface($func_param_menu, "ge_characteristics", $ui_characteristics, "fas fa-edit", "ajax/ge_characteristics.php", "ripple grey", false);                         # interface de comportamentos            adiciona_interface($func_param_menu, "ge_skills_behaviors", $ui_skills, "fas fa-edit", "ajax/ge_skills_behaviors.php", "ripple grey", false);                         # interface de grupos funcionais            adiciona_interface($func_param_menu, "ge_func_grp", $ui_functional_groups, "fas fa-edit", "ajax/ge_functional_groups.php", "ripple grey", false);                         # interface de funções            adiciona_interface($func_param_menu, "ge_functions", $ui_functions, "fas fa-edit", "ajax/ge_functions.php", "ripple grey", false);                         # interface de competências individuais            adiciona_interface($func_param_menu, "ad_aval_individual", $ui_individuals, "fas fa-edit", "ajax/ge_individuals.php", "ripple grey", false);                     }        #        # FORMAÇÃO        if ($formacao) {                    }                                #        # adiciona o menu de avaliação de desempenho ao capital humano - operação        if (!empty($av_oper_menu)) {            adiciona_conteudo_menu($cap_humano_oper_menu, "oper_aval_desempenho", $av_oper_menu);          }                # adiciona o menu de formação ao capital humano - operação        if (!empty($form_oper_menu)) {            adiciona_conteudo_menu($cap_humano_oper_menu, "oper_formacao", $form_oper_menu);          }        # adiciona o menu de funções ao capital humano - parametrização        if (!empty($func_param_menu)) {            adiciona_conteudo_menu($cap_humano_param_menu, "param_func", $func_param_menu);          }                # adiciona o menu de avaliação de desempenho ao capital humano - parametrização        if (!empty($av_param_menu)) {            adiciona_conteudo_menu($cap_humano_param_menu, "param_aval_desempenho", $av_param_menu);          }        # adiciona o menu de formação ao capital humano - parametrização        if (!empty($form_param_menu)) {            adiciona_conteudo_menu($cap_humano_param_menu, "param_formacao", $form_param_menu);          }                # adiciona ao menu principal do QUAD-HR a componente operacional de Capital humanp        adiciona_conteudo_menu($_nav["home"], "hcm_oper", $cap_humano_oper_menu);              }        #    # PARAMETRIZAÇÕES    $parametrizacao_menu = inicializa_no_menu($ui_params, "fa fa-cubes", "", "", false);    #    # Parâmetros gerais    $params_gerais_menu = inicializa_no_menu($ui_general, "fas fa-arrow-right", "", "", false);    adiciona_interface($params_gerais_menu, "configs", $ui_configs, "fas fa-edit", "ajax/dg_configs.php", "ripple grey", false);             adiciona_interface($params_gerais_menu, "profic_sacles", $ui_proficiency_scales, "fas fa-edit", "ajax/dg_proficiency_scales.php", "ripple grey", false);             adiciona_interface($params_gerais_menu, "units", $ui_units, "fas fa-edit", "ajax/dg_units.php", "ripple grey", false);             adiciona_conteudo_menu($parametrizacao_menu, "param_1", $params_gerais_menu);      #    # Gestão documental    if (!empty($gestao_doc_params_menu)) {        adiciona_conteudo_menu($parametrizacao_menu, "param_2", $gestao_doc_params_menu);      }    #    # Prémios por coeficiente    if (!empty($premios_coef_config_menu)) {        adiciona_conteudo_menu($parametrizacao_menu, "param_3", $premios_coef_config_menu);      }    #    # Capital humano    if (!empty($cap_humano_param_menu)) {        adiciona_conteudo_menu($parametrizacao_menu, "param_4", $cap_humano_param_menu);      }            #    # Adiciona parametrização ao menu principal    adiciona_conteudo_menu($_nav["home"], "param_0", $parametrizacao_menu);      ?>
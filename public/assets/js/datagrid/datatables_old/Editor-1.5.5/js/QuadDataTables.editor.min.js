!function(i){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return i(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t=t||window,e&&e.fn.dataTable||(e=require("datatables.net")(t,e).$),i(e,t,t.document)}:i(jQuery,window,document)}(function(T,m,p,g){"use strict";var D=T.fn.dataTable;if(!D||!D.versionCheck||!D.versionCheck("1.10.7"))throw"Editor requires DataTables 1.10.7 or newer";var l=function(t){!this instanceof l&&alert("DataTables Editor must be initialised as a 'new' instance'"),this._constructor(t)};D.Editor=l,T.fn.DataTable.Editor=l;function d(t,e){return e===g&&(e=p),T('*[data-dte-e="'+t+'"]',e)}function _(t,i){var n=[];return T.each(t,function(t,e){n.push(e[i])}),n}var n,s,o,a,t,r,c,i=0;l.Field=function(e,t,i){var n=this,s=i.i18n.multi;if(e=T.extend(!0,{},l.Field.defaults,e),!l.fieldTypes[e.type])throw"Error adding field - unknown field type "+e.type;this.s=T.extend({},l.Field.settings,{type:l.fieldTypes[e.type],name:e.name,classes:t,host:i,opts:e,multiValue:!1}),e.id||(e.id="DTE_Field_"+e.name),e.dataProp&&(e.data=e.dataProp),""===e.data&&(e.data=e.name);var o=D.ext.oApi;this.valFromData=function(t){return o._fnGetObjectDataFn(e.data)(t,"editor")},this.valToData=o._fnSetObjectDataFn(e.data);var a=T('<div class="'+t.wrapper+" "+t.typePrefix+e.type+" "+t.namePrefix+e.name+" "+e.className+'"><label data-dte-e="label" class="'+t.label+'" for="'+e.id+'">'+e.label+'<div data-dte-e="msg-label" class="'+t["msg-label"]+'">'+e.labelInfo+'</div></label><div data-dte-e="input" class="'+t.input+'"><div data-dte-e="input-control" class="'+t.inputControl+'"/><div data-dte-e="multi-value" class="'+t.multiValue+'">'+s.title+'<span data-dte-e="multi-info" class="'+t.multiInfo+'">'+s.info+'</span></div><div data-dte-e="msg-multi" class="'+t.multiRestore+'">'+s.restore+'</div><div data-dte-e="msg-error" class="'+t["msg-error"]+'"></div><div data-dte-e="msg-message" class="'+t["msg-message"]+'"></div><div data-dte-e="msg-info" class="'+t["msg-info"]+'">'+e.fieldInfo+"</div></div></div>"),r=this._typeFn("create",e);null!==r?d("input-control",a).prepend(r):a.css("display","none"),this.dom=T.extend(!0,{},l.Field.models.dom,{container:a,inputControl:d("input-control",a),label:d("label",a),fieldInfo:d("msg-info",a),labelInfo:d("msg-label",a),fieldError:d("msg-error",a),fieldMessage:d("msg-message",a),multi:d("multi-value",a),multiReturn:d("msg-multi",a),multiInfo:d("multi-info",a)}),this.dom.multi.on("click",function(){n.val("")}),this.dom.multiReturn.on("click",function(){n.s.multiValue=!0,n._multiValueCheck()}),T.each(this.s.type,function(i,t){"function"==typeof t&&n[i]===g&&(n[i]=function(){var t=Array.prototype.slice.call(arguments);t.unshift(i);var e=n._typeFn.apply(n,t);return e===g?n:e})})},l.Field.prototype={def:function(t){var e=this.s.opts;if(t!==g)return e.def=t,this;var i=e.default!==g?e.default:e.def;return T.isFunction(i)?i():i},disable:function(){return this._typeFn("disable"),this},displayed:function(){var t=this.dom.container;return!(!t.parents("body").length||"none"==t.css("display"))},enable:function(){return this._typeFn("enable"),this},error:function(t,e){var i=this.s.classes;return t?this.dom.container.addClass(i.error):this.dom.container.removeClass(i.error),this._msg(this.dom.fieldError,t,e)},isMultiValue:function(){return this.s.multiValue},inError:function(){return this.dom.container.hasClass(this.s.classes.error)},input:function(){return this.s.type.input?this._typeFn("input"):T("input, select, textarea",this.dom.container)},focus:function(){return this.s.type.focus?this._typeFn("focus"):T("input, select, textarea",this.dom.container).focus(),this},get:function(){if(this.isMultiValue())return g;var t=this._typeFn("get");return t!==g?t:this.def()},hide:function(t){var e=this.dom.container;return t===g&&(t=!0),this.s.host.display()&&t?e.slideUp():e.css("display","none"),this},label:function(t){var e=this.dom.label;return t===g?e.html():(e.html(t),this)},message:function(t,e){return this._msg(this.dom.fieldMessage,t,e)},multiGet:function(t){var e,i=this.s.multiValues,n=this.s.multiIds;if(t===g){e={};for(var s=0;s<n.length;s++)e[n[s]]=this.isMultiValue()?i[n[s]]:this.val()}else e=this.isMultiValue()?i[t]:T("[id='"+this.s.opts.id+"']").is("select")?T("[id='"+this.s.opts.id+"']").val():this.val();return e},multiSet:function(t,i){var n=this.s.multiValues,s=this.s.multiIds;i===g&&(i=t,t=g);function o(t,e){-1===T.inArray(s)&&s.push(t),n[t]=e}return T.isPlainObject(i)&&t===g?T.each(i,function(t,e){o(t,e)}):t===g?T.each(s,function(t,e){o(e,i)}):o(t,i),this.s.multiValue=!0,this._multiValueCheck(),this},name:function(){return this.s.opts.name},node:function(){return this.dom.container[0]},set:function(t){function e(t){return"string"!=typeof t?t:t.replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&#10;/g,"\n")}this.s.multiValue=!1;var i=this.s.opts.entityDecode;if(i===g||!0===i)if(T.isArray(t))for(var n=0,s=t.length;n<s;n++)t[n]=e(t[n]);else t=e(t);return this._typeFn("set",t),this._multiValueCheck(),this},show:function(t){var e=this.dom.container;return t===g&&(t=!0),this.s.host.display()&&t?e.slideDown():e.css("display","block"),this},val:function(t){return t===g?this.get():this.set(t)},dataSrc:function(){return this.s.opts.data},destroy:function(){return this.dom.container.remove(),this._typeFn("destroy"),this},multiIds:function(){return this.s.multiIds},multiInfoShown:function(t){this.dom.multiInfo.css({display:t?"block":"none"})},multiReset:function(){this.s.multiIds=[],this.s.multiValues={}},valFromData:null,valToData:null,_errorNode:function(){return this.dom.fieldError},_msg:function(t,e,i){if("function"==typeof e){var n=this.s.host;e=e(n,new D.Api(n.s.table))}return t.parent().is(":visible")?(t.html(e),e?t.slideDown(i):t.slideUp(i)):(t.html(e||"").css("display",e?"block":"none"),i&&i()),this},_multiValueCheck:function(){var t,e,i=this.s.multiIds,n=this.s.multiValues,s=!1;if(i)for(var o=0;o<i.length;o++){if(e=n[i[o]],0<o&&e!==t){s=!0;break}t=e}return s&&this.s.multiValue?(this.dom.inputControl.css({display:"none"}),this.dom.multi.css({display:"block"})):(this.dom.inputControl.css({display:"block"}),this.dom.multi.css({display:"none"}),this.s.multiValue&&this.val(t)),this.dom.multiReturn.css({display:i&&1<i.length&&s&&!this.s.multiValue?"block":"none"}),this.s.host._multiInfo(),!0},_typeFn:function(t){var e=Array.prototype.slice.call(arguments);e.shift(),e.unshift(this.s.opts);var i=this.s.type[t];if(i)return i.apply(this.s.host,e)}},l.Field.models={},l.Field.defaults={className:"",data:"",def:"",fieldInfo:"",id:"",label:"",labelInfo:"",name:null,type:"text"},l.Field.models.settings={type:null,name:null,classes:null,opts:null,host:null},l.Field.models.dom={container:null,label:null,labelInfo:null,fieldInfo:null,fieldError:null,fieldMessage:null},l.models={},l.models.displayController={init:function(t){},open:function(t,e,i){},close:function(t,e){}},l.models.fieldType={create:function(t){},get:function(t){},set:function(t,e){},enable:function(t){},disable:function(t){}},l.models.settings={ajaxUrl:null,ajax:null,dataSource:null,domTable:null,opts:null,displayController:null,fields:{},order:[],id:-1,displayed:!1,processing:!1,modifier:null,action:null,idSrc:null},l.models.button={label:null,fn:null,className:null},l.models.formOptions={onReturn:"submit",onBlur:"close",onBackground:"blur",onComplete:"close",onEsc:"close",submit:"all",focus:0,buttons:!0,title:!0,message:!0,drawType:!1},l.display={},n=m,s=jQuery,jQuery.fn.dataTable,l.display.lightbox=s.extend(!0,{},l.models.displayController,{init:function(t){return o._init(),o},open:function(t,e,i){if(o._shown)i&&i();else{o._dte=t;var n=o._dom.content;n.children().detach(),n.append(e).append(o._dom.close),o._shown=!0,o._show(i)}},close:function(t,e){o._shown?(o._dte=t,o._hide(e),o._shown=!1):e&&e()},node:function(t){return o._dom.wrapper[0]},_init:function(){if(!o._ready){var t=o._dom;t.content=s("div.DTED_Lightbox_Content",o._dom.wrapper),t.wrapper.css("opacity",0),t.background.css("opacity",0)}},_show:function(t){var e=o._dom;if(n.orientation!==g&&s("body").addClass("DTED_Lightbox_Mobile"),e.content.css("height","auto"),e.wrapper.css({top:-o.conf.offsetAni}),s("body").append(o._dom.background).append(o._dom.wrapper),o._heightCalc(),e.wrapper.stop().animate({opacity:1,top:0},t),e.background.stop().animate({opacity:1}),e.close.bind("click.DTED_Lightbox",function(t){o._dte.close()}),e.background.bind("click.DTED_Lightbox",function(t){o._dte.background()}),s("div.DTED_Lightbox_Content_Wrapper",e.wrapper).bind("click.DTED_Lightbox",function(t){s(t.target).hasClass("DTED_Lightbox_Content_Wrapper")&&o._dte.background()}),s(n).bind("resize.DTED_Lightbox",function(){o._heightCalc()}),o._scrollTop=s("body").scrollTop(),n.orientation!==g){var i=s("body").children().not(e.background).not(e.wrapper);s("body").append('<div class="DTED_Lightbox_Shown"/>'),s("div.DTED_Lightbox_Shown").append(i)}},_heightCalc:function(){var t=o._dom,e=s(n).height()-2*o.conf.windowPadding-s("div.DTE_Header",t.wrapper).outerHeight()-s("div.DTE_Footer",t.wrapper).outerHeight();s("div.DTE_Body_Content",t.wrapper).css("maxHeight",e)},_hide:function(t){var e=o._dom;if(t=t||function(){},n.orientation!==g){var i=s("div.DTED_Lightbox_Shown");i.children().appendTo("body"),i.remove()}s("body").removeClass("DTED_Lightbox_Mobile").scrollTop(o._scrollTop),e.wrapper.stop().animate({opacity:0,top:o.conf.offsetAni},function(){s(this).detach(),t()}),e.background.stop().animate({opacity:0},function(){s(this).detach()}),e.close.unbind("click.DTED_Lightbox"),e.background.unbind("click.DTED_Lightbox"),s("div.DTED_Lightbox_Content_Wrapper",e.wrapper).unbind("click.DTED_Lightbox"),s(n).unbind("resize.DTED_Lightbox")},_dte:null,_ready:!1,_shown:!1,_dom:{wrapper:s('<div class="DTED DTED_Lightbox_Wrapper"><div class="DTED_Lightbox_Container"><div class="DTED_Lightbox_Content_Wrapper"><div class="DTED_Lightbox_Content"></div></div></div></div>'),background:s('<div class="DTED_Lightbox_Background"><div/></div>'),close:s('<div class="DTED_Lightbox_Close"></div>'),content:null}}),(o=l.display.lightbox).conf={offsetAni:25,windowPadding:25},a=m,t=p,r=jQuery,jQuery.fn.dataTable,l.display.envelope=r.extend(!0,{},l.models.displayController,{init:function(t){return c._dte=t,c._init(),c},open:function(t,e,i){c._dte=t,r(c._dom.content).children().detach(),c._dom.content.appendChild(e),c._dom.content.appendChild(c._dom.close),c._show(i)},close:function(t,e){c._dte=t,c._hide(e)},node:function(t){return c._dom.wrapper[0]},_init:function(){c._ready||(c._dom.content=r("div.DTED_Envelope_Container",c._dom.wrapper)[0],t.body.appendChild(c._dom.background),t.body.appendChild(c._dom.wrapper),c._dom.background.style.visbility="hidden",c._dom.background.style.display="block",c._cssBackgroundOpacity=r(c._dom.background).css("opacity"),c._dom.background.style.display="none",c._dom.background.style.visbility="visible")},_show:function(t){t=t||function(){},c._dom.content.style.height="auto";var e=c._dom.wrapper.style;e.opacity=0,e.display="block";var i=c._findAttachRow(),n=c._heightCalc(),s=i.offsetWidth;e.display="none",e.opacity=1,c._dom.wrapper.style.width=s+"px",c._dom.wrapper.style.marginLeft=-s/2+"px",c._dom.wrapper.style.top=r(i).offset().top+i.offsetHeight+"px",c._dom.content.style.top=-1*n-20+"px",c._dom.background.style.opacity=0,c._dom.background.style.display="block",r(c._dom.background).animate({opacity:c._cssBackgroundOpacity},"normal"),r(c._dom.wrapper).fadeIn(),c.conf.windowScroll?r("html,body").animate({scrollTop:r(i).offset().top+i.offsetHeight-c.conf.windowPadding},function(){r(c._dom.content).animate({top:0},600,t)}):r(c._dom.content).animate({top:0},600,t),r(c._dom.close).bind("click.DTED_Envelope",function(t){c._dte.close()}),r(c._dom.background).bind("click.DTED_Envelope",function(t){c._dte.background()}),r("div.DTED_Lightbox_Content_Wrapper",c._dom.wrapper).bind("click.DTED_Envelope",function(t){r(t.target).hasClass("DTED_Envelope_Content_Wrapper")&&c._dte.background()}),r(a).bind("resize.DTED_Envelope",function(){c._heightCalc()})},_heightCalc:function(){c.conf.heightCalc?c.conf.heightCalc(c._dom.wrapper):r(c._dom.content).children().height();var t=r(a).height()-2*c.conf.windowPadding-r("div.DTE_Header",c._dom.wrapper).outerHeight()-r("div.DTE_Footer",c._dom.wrapper).outerHeight();return r("div.DTE_Body_Content",c._dom.wrapper).css("maxHeight",t),r(c._dte.dom.wrapper).outerHeight()},_hide:function(t){t=t||function(){},r(c._dom.content).animate({top:-(c._dom.content.offsetHeight+50)},600,function(){r([c._dom.wrapper,c._dom.background]).fadeOut("normal",t)}),r(c._dom.close).unbind("click.DTED_Lightbox"),r(c._dom.background).unbind("click.DTED_Lightbox"),r("div.DTED_Lightbox_Content_Wrapper",c._dom.wrapper).unbind("click.DTED_Lightbox"),r(a).unbind("resize.DTED_Lightbox")},_findAttachRow:function(){var t=r(c._dte.s.table).DataTable();return"head"===c.conf.attach||"create"===c._dte.s.action?t.table().header():t.row(c._dte.s.modifier).node()},_dte:null,_ready:!1,_cssBackgroundOpacity:1,_dom:{wrapper:r('<div class="DTED DTED_Envelope_Wrapper"><div class="DTED_Envelope_ShadowLeft"></div><div class="DTED_Envelope_ShadowRight"></div><div class="DTED_Envelope_Container"></div></div>')[0],background:r('<div class="DTED_Envelope_Background"><div/></div>')[0],close:r('<div class="DTED_Envelope_Close">&times;</div>')[0],content:null}}),(c=l.display.envelope).conf={windowPadding:50,heightCalc:null,attach:"row",windowScroll:!0},l.prototype.add=function(t,e){if(T.isArray(t))for(var i=0,n=t.length;i<n;i++)this.add(t[i]);else{var s=t.name;if(s===g)throw"Error adding field. The field requires a `name` option";if(this.s.fields[s])throw"Error adding field '"+s+"'. A field already exists with this name";if(this._dataSource("initField",t),this.s.fields[s]=new l.Field(t,this.classes.field,this),e===g)this.s.order.push(s);else if(null===e)this.s.order.unshift(s);else{var o=T.inArray(e,this.s.order);this.s.order.splice(o+1,0,s)}}return this._displayReorder(this.order()),this},l.prototype.background=function(){var t=this.s.editOpts.onBackground;return"blur"===t?this.blur():"close"===t?this.close():"submit"===t&&this.submit(),this},l.prototype.blur=function(){return this._blur(),this},l.prototype.bubble=function(t,e,i,n){var s=this;if(this._tidy(function(){s.bubble(t,e,n)}))return this;T.isPlainObject(e)?(n=e,e=g,i=!0):"boolean"==typeof e&&(i=e,n=e=g),T.isPlainObject(i)&&(n=i,i=!0),i===g&&(i=!0),n=T.extend({},this.s.formOptions.bubble,n);var o=this._dataSource("individual",t,e);if(this._edit(t,o,"bubble"),!this._preopen("bubble"))return this;var a=this._formOptions(n);T(m).on("resize."+a,function(){s.bubblePosition()});var r=[];this.s.bubbleNodes=r.concat.apply(r,_(o,"attach"));var l=this.classes.bubble,d=T('<div class="'+l.bg+'"><div/></div>'),c=T('<div class="'+l.wrapper+'"><div class="'+l.liner+'"><div class="'+l.table+'"><div class="'+l.close+'" /></div></div><div class="'+l.pointer+'" /></div>');i&&(c.appendTo("body"),d.appendTo("body"));var u=c.children().eq(0),p=u.children(),f=p.children();u.append(this.dom.formError),p.prepend(this.dom.form),n.message&&u.prepend(this.dom.formInfo),n.title&&u.prepend(this.dom.header),n.buttons&&p.append(this.dom.buttons);var h=T().add(c).add(d);return this._closeReg(function(t){h.animate({opacity:0},function(){h.detach(),T(m).off("resize."+a),s._clearDynamicInfo()})}),d.click(function(){s.blur()}),f.click(function(){s._close()}),this.bubblePosition(),h.animate({opacity:1}),this._focus(this.s.includeFields,n.focus),this._postopen("bubble"),this},l.prototype.bubblePosition=function(){var t=T("div.DTE_Bubble"),e=T("div.DTE_Bubble_Liner"),i=this.s.bubbleNodes,n={top:0,left:0,right:0,bottom:0};T.each(i,function(t,e){var i=T(e).offset();n.top+=i.top,n.left+=i.left,n.right+=i.left+e.offsetWidth,n.bottom+=i.top+e.offsetHeight}),n.top/=i.length,n.left/=i.length,n.right/=i.length,n.bottom/=i.length;var s=n.top,o=(n.left+n.right)/2,a=e.outerWidth(),r=o-a/2,l=r+a,d=T(m).width();this.classes.bubble;if(t.css({top:s,left:o}),e.length&&e.offset().top<0?t.css("top",n.bottom).addClass("below"):t.removeClass("below"),d<l+15){var c=l-d;e.css("left",r<15?-(r-15):-(15+c))}else e.css("left",r<15?-(r-15):0);return this},l.prototype.buttons=function(t){var i=this;return"_basic"===t?t=[{label:this.i18n[this.s.action].submit,fn:function(){this.submit()}}]:T.isArray(t)||(t=[t]),T(this.dom.buttons).empty(),T.each(t,function(t,e){"string"==typeof e&&(e={label:e,fn:function(){this.submit()}}),T("<button/>",{class:i.classes.form.button+(e.className?" "+e.className:"")}).html("function"==typeof e.label?e.label(i):e.label||"").attr("tabindex",0).on("keyup",function(t){13===t.keyCode&&e.fn&&e.fn.call(i)}).on("keypress",function(t){13===t.keyCode&&t.preventDefault()}).on("click",function(t){t.preventDefault(),e.fn&&e.fn.call(i)}).appendTo(i.dom.buttons)}),this},l.prototype.clear=function(t){var i=this,e=this.s.fields;if("string"==typeof t){e[t].destroy(),delete e[t];var n=T.inArray(t,this.s.order);this.s.order.splice(n,1)}else T.each(this._fieldNames(t),function(t,e){i.clear(e)});return this},l.prototype.close=function(){return this._close(!1),this},l.prototype.create=function(t,e,i,n){var s=this,o=this.s.fields,a=1;if(this._tidy(function(){s.create(t,e,i,n)}))return this;"number"==typeof t&&(a=t,t=e,e=i),this.s.editFields={};for(var r=0;r<a;r++)this.s.editFields[r]={fields:this.s.fields};var l=this._crudArgs(t,e,i,n);return this.s.action="create",this.s.modifier=null,this.dom.form.style.display="block",this._actionClass(),this._displayReorder(this.fields()),T.each(o,function(t,e){e.multiReset(),e.set(e.def())}),this._event("initCreate"),this._assembleMain(),this._formOptions(l.opts),l.maybeOpen(),this},l.prototype.dependent=function(t,s,o){if(T.isArray(t)){for(var e=0,i=t.length;e<i;e++)this.dependent(t[e],s,o);return this}var a=this,r=this.field(t),l={type:"POST",dataType:"json"};o=T.extend({event:"change",data:null,preUpdate:null,postUpdate:null},o);function d(n){o.preUpdate&&o.preUpdate(n),T.each({labels:"label",options:"update",values:"val",messages:"message",errors:"error"},function(t,i){n[t]&&T.each(n[t],function(t,e){a.field(t)[i](e)})}),T.each(["hide","show","enable","disable"],function(t,e){n[e]&&a[e](n[e])}),o.postUpdate&&o.postUpdate(n)}return T(r.node()).on(o.event,function(t){if(-1!==T.inArray(t.target,r.input().toArray())){var e={};if(e.rows=a.s.editFields?_(a.s.editFields,"data"):null,e.row=e.rows?e.rows[0]:null,e.values=a.val(),o.data){var i=o.data(e);i&&(o.data=i)}if("function"==typeof s){var n=s(r.val(),e,d);n&&d(n)}else T.isPlainObject(s)?T.extend(l,s):l.url=s,T.ajax(T.extend(l,{url:s,data:e,success:d}))}}),this},l.prototype.disable=function(t){var i=this.s.fields;return T.each(this._fieldNames(t),function(t,e){i[e].disable()}),this},l.prototype.display=function(t){return t===g?this.s.displayed:this[t?"open":"close"]()},l.prototype.displayed=function(){return T.map(this.s.fields,function(t,e){return t.displayed()?e:null})},l.prototype.displayNode=function(){return this.s.displayController.node(this)},l.prototype.edit=function(t,e,i,n,s){var o=this;if(this._tidy(function(){o.edit(t,e,i,n,s)}))return this;this.s.fields;var a=this._crudArgs(e,i,n,s);return this._edit(t,this._dataSource("fields",t),"main"),this._assembleMain(),this._formOptions(a.opts),a.maybeOpen(),this},l.prototype.enable=function(t){var i=this.s.fields;return T.each(this._fieldNames(t),function(t,e){i[e].enable()}),this},l.prototype.error=function(t,e){return e===g?this._message(this.dom.formError,t):this.s.fields[t].error(e),this},l.prototype.field=function(t){return this.s.fields[t]},l.prototype.fields=function(){return T.map(this.s.fields,function(t,e){return e})},l.prototype.get=function(t){var i=this.s.fields;if(t=t||this.fields(),T.isArray(t)){var n={};return T.each(t,function(t,e){n[e]=i[e].get()}),n}return i[t].get()},l.prototype.hide=function(t,i){var n=this.s.fields;return T.each(this._fieldNames(t),function(t,e){n[e].hide(i)}),this},l.prototype.inError=function(t){if(T(this.dom.formError).is(":visible"))return!0;for(var e=this.s.fields,i=this._fieldNames(t),n=0,s=i.length;n<s;n++)if(e[i[n]].inError())return!0;return!1},l.prototype.inline=function(t,e,i){var n=this;T.isPlainObject(e)&&(i=e,e=g),i=T.extend({},this.s.formOptions.inline,i);var s,o,a,r=this._dataSource("individual",t,e),l=0,d=!1;if(T.each(r,function(t,e){if(0<l)throw"Cannot edit more than one row inline at a time";s=T(e.attach[0]),a=0,T.each(e.displayFields,function(t,e){if(0<a)throw"Cannot edit more than one field inline at a time";o=e,a++}),l++}),T("div.DTE_Field",s).length)return this;if(this._tidy(function(){n.inline(t,e,i)}))return this;this._edit(t,r,"inline");var c=this._formOptions(i);if(!this._preopen("inline"))return this;var u=s.contents().detach();return s.append(T('<div class="DTE DTE_Inline"><div class="DTE_Inline_Field"/><div class="DTE_Inline_Buttons"/></div>')),s.find("div.DTE_Inline_Field").append(o.node()),i.buttons&&s.find("div.DTE_Inline_Buttons").append(this.dom.buttons),this._closeReg(function(t){d=!0,T(p).off("click"+c),t||(s.contents().detach(),s.append(u)),n._clearDynamicInfo()}),setTimeout(function(){d||T(p).on("click"+c,function(t){var e=T.fn.addBack?"addBack":"andSelf";o._typeFn("owns",t.target)||-1!==T.inArray(s[0],T(t.target).parents()[e]())||n.blur()})},0),this._focus([o],i.focus),this._postopen("inline"),this},l.prototype.message=function(t,e){return e===g?this._message(this.dom.formInfo,t):this.s.fields[t].message(e),this},l.prototype.mode=function(){return this.s.action},l.prototype.modifier=function(){return this.s.modifier},l.prototype.multiGet=function(t){var i=this.s.fields;if(t===g&&(t=this.fields()),T.isArray(t)){var n={};return T.each(t,function(t,e){n[e]=i[e].multiGet()}),n}return i[t].multiGet()},l.prototype.multiSet=function(t,e){var i=this.s.fields;return T.isPlainObject(t)&&e===g?T.each(t,function(t,e){i[t].multiSet(e)}):i[t].multiSet(e),this},l.prototype.node=function(t){var e=this.s.fields;return t=t||this.order(),T.isArray(t)?T.map(t,function(t){return e[t].node()}):e[t].node()},l.prototype.off=function(t,e){return T(this).off(this._eventName(t),e),this},l.prototype.on=function(t,e){return T(this).on(this._eventName(t),e),this},l.prototype.one=function(t,e){return T(this).one(this._eventName(t),e),this},l.prototype.open=function(){var e=this;return this._displayReorder(),this._closeReg(function(t){e.s.displayController.close(e,function(){e._clearDynamicInfo()})}),this._preopen("main")&&(this.s.displayController.open(this,this.dom.wrapper),this._focus(T.map(this.s.order,function(t){return e.s.fields[t]}),this.s.editOpts.focus),this._postopen("main")),this},l.prototype.order=function(t){if(!t)return this.s.order;if(arguments.length&&!T.isArray(t)&&(t=Array.prototype.slice.call(arguments)),this.s.order.slice().sort().join("-")!==t.slice().sort().join("-"))throw"All fields, and no additional fields, must be provided for ordering.";return T.extend(this.s.order,t),this._displayReorder(),this},l.prototype.remove=function(t,e,i,n,s){var o=this;if(this._tidy(function(){o.remove(t,e,i,n,s)}))return this;t.length===g&&(t=[t]);var a=this._crudArgs(e,i,n,s),r=this._dataSource("fields",t);this.s.action="remove",this.s.modifier=t,this.s.editFields=r,this.dom.form.style.display="none",this._actionClass(),this._event("initRemove",[_(r,"node"),_(r,"data"),t]),this._event("initMultiRemove",[r,t]),this._assembleMain(),this._formOptions(a.opts),a.maybeOpen();var l=this.s.editOpts;return null!==l.focus&&T("button",this.dom.buttons).eq(l.focus).focus(),this},l.prototype.set=function(t,e){var i=this.s.fields;if(!T.isPlainObject(t)){var n={};n[t]=e,t=n}return T.each(t,function(t,e){i[t].set(e)}),this},l.prototype.show=function(t,i){var n=this.s.fields;return T.each(this._fieldNames(t),function(t,e){n[e].show(i)}),this},l.prototype.submit=function(t,e,i,n){var s=this,o=this.s.fields,a=[],r=0,l=!1;if(this.s.processing||!this.s.action)return this;this._processing(!0);function d(){a.length!==r||l||(l=!0,s._submit(t,e,i,n))}return this.error(),T.each(o,function(t,e){e.inError()&&a.push(t)}),T.each(a,function(t,e){o[e].error("",function(){r++,d()})}),d(),this},l.prototype.title=function(t){var e=T(this.dom.header).children("div."+this.classes.header.content);return t===g?e.html():("function"==typeof t&&(t=t(this,new D.Api(this.s.table))),e.html(t),this)},l.prototype.val=function(t,e){return e===g?this.get(t):this.set(t,e)};var e,u,f,h,v,b=D.Api.register;function y(t){var e=t.context[0];return e.oInit.editor||e._editor}function w(t,e,i,n){if((e=e||{}).buttons===g&&(e.buttons="_basic"),e.title===g&&(e.title=t.i18n[i].title),e.message===g)if("remove"===i){var s=t.i18n[i].confirm;e.message=1!==n?s._.replace(/%d/,n):s[1]}else e.message="";return e}function x(t,e){return t.settings()[0].oFeatures.bServerSide&&"none"!==e.s.editOpts.drawType}function C(t){return T(t).DataTable()}function E(t){t=T(t),setTimeout(function(){t.addClass("highlight"),setTimeout(function(){t.addClass("noHighlight").removeClass("highlight"),setTimeout(function(){t.removeClass("noHighlight")},550)},500)},20)}function k(s,o,t,a,r){o.rows(t).indexes().each(function(t){var e=o.row(t),i=e.data(),n=r(i);n===g&&l.error("Unable to find row identifier",14),s[n]={idSrc:n,data:i,node:e.node(),fields:a,type:"row"}})}function F(n,t,s){T.each(t,function(t,e){var i=e.valFromData(s);i!==g&&O(n,e.dataSrc()).each(function(){for(;this.childNodes.length;)this.removeChild(this.firstChild)}).html(i)})}function O(t,e){var i="keyless"===t?p:T('[data-editor-id="'+t+'"]');return T('[data-editor-field="'+e+'"]',i)}if(b("editor()",function(){return y(this)}),b("row.create()",function(t){var e=y(this);return e.create(w(e,t,"create")),this}),b("row().edit()",function(t){var e=y(this);return e.edit(this[0][0],w(e,t,"edit")),this}),b("rows().edit()",function(t){var e=y(this);return e.edit(this[0],w(e,t,"edit")),this}),b("row().delete()",function(t){var e=y(this);return e.remove(this[0][0],w(e,t,"remove",1)),this}),b("rows().delete()",function(t){var e=y(this);return e.remove(this[0],w(e,t,"remove",this[0].length)),this}),b("cell().edit()",function(t,e){return t?T.isPlainObject(t)&&(e=t,t="inline"):t="inline",y(this)[t](this[0][0],e),this}),b("cells().edit()",function(t){return y(this).bubble(this[0],t),this}),b("file()",function(t,e){return l.files[t][e]}),b("files()",function(t,e){return t?e?(l.files[t]=e,this):l.files[t]:l.files}),T(p).on("xhr.dt",function(t,e,i){"dt"===t.namespace&&i&&i.files&&T.each(i.files,function(t,e){l.files[t]=e})}),l.error=function(t,e){throw e?t+" For more information, please refer to https://datatables.net/tn/"+e:t},l.pairs=function(t,e,i){var n,s,o;if(e=T.extend({label:"label",value:"value"},e),T.isArray(t))for(n=0,s=t.length;n<s;n++)o=t[n],T.isPlainObject(o)?i(o[e.value]===g?o[e.label]:o[e.value],o[e.label],n):i(o,o,n);else n=0,T.each(t,function(t,e){i(e,t,n),n++})},l.safeId=function(t){return t.replace(/\./g,"-")},l.upload=function(n,s,t,e,i,o){var a=new FileReader;n.error(s.name,""),e(s,s.fileReadText||"<i>Adicionar outro</i>"),n.frmData||(n.frmData=new FormData),a.onload=function(t){o.removeClass("noClear");var e,i="<image style='width:100px;heigth:inherit;' src='"+t.target.result+"'/>";o.append(i),s.ajaxData&&s.ajaxData(n.frmData),s.ajax?e=s.ajax:"string"!=typeof n.s.ajax&&!T.isPlainObject(n.s.ajax)||(e=n.s.ajax),"string"==typeof e&&(e={url:e})},a.readAsDataURL(t[0])},l.prototype._constructor=function(t){t=T.extend(!0,{},l.defaults,t),this.s=T.extend(!0,{},l.models.settings,{table:t.domTable||t.table,dbTable:t.dbTable||null,ajaxUrl:t.ajaxUrl,ajax:t.ajax,idSrc:t.idSrc,dataSource:t.domTable||t.table?l.dataSources.dataTable:l.dataSources.html,formOptions:t.formOptions,legacyAjax:t.legacyAjax}),this.classes=T.extend(!0,{},l.classes),this.i18n=t.i18n;var n=this,e=this.classes;if(this.dom={wrapper:T('<div class="'+e.wrapper+'"><div data-dte-e="processing" class="'+e.processing.indicator+'"></div><div data-dte-e="body" class="'+e.body.wrapper+'"><div data-dte-e="body_content" class="'+e.body.content+'"/></div><div data-dte-e="foot" class="'+e.footer.wrapper+'"><div class="'+e.footer.content+'"/></div></div>')[0],form:T('<form data-dte-e="form" class="'+e.form.tag+'"><div data-dte-e="form_content" class="'+e.form.content+'"/></form>')[0],formError:T('<div data-dte-e="form_error" class="'+e.form.error+'"/>')[0],formInfo:T('<div data-dte-e="form_info" class="'+e.form.info+'"/>')[0],header:T('<div data-dte-e="head" class="'+e.header.wrapper+'"><div class="'+e.header.content+'"/><div class="progress"><div class="progress-bar" role="progressbar" style="width: 0% " aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div></div></div>')[0],buttons:T('<div data-dte-e="form_buttons" class="'+e.form.buttons+'"/>')[0]},T.fn.dataTable.TableTools){var i=T.fn.dataTable.TableTools.BUTTONS,s=this.i18n;T.each(["create","edit","remove"],function(t,e){i["editor_"+e].sButtonText=s[e].button})}T.each(t.events,function(t,e){n.on(t,function(){var t=Array.prototype.slice.call(arguments);t.shift(),e.apply(n,t)})});var o=this.dom,a=o.wrapper;o.formContent=d("form_content",o.form)[0],o.footer=d("foot",a)[0],o.body=d("body",a)[0],o.bodyContent=d("body_content",a)[0],o.processing=d("processing",a)[0],t.fields&&this.add(t.fields),T(p).on("init.dt.dte",function(t,e,i){n.s.table&&e.nTable===T(n.s.table).get(0)&&(e._editor=n)}).on("xhr.dt",function(t,e,i){i&&n.s.table&&e.nTable===T(n.s.table).get(0)&&n._optionsUpdate(i)}),this.s.displayController=l.display[t.display].init(this),this._event("initComplete",[])},l.prototype._actionClass=function(){var t=this.classes.actions,e=this.s.action,i=T(this.dom.wrapper);i.removeClass([t.create,t.edit,t.remove].join(" ")),"create"===e?i.addClass(t.create):"edit"===e?i.addClass(t.edit):"remove"===e&&i.addClass(t.remove)},l.prototype._ajax=function(t,n,e){var i,s={type:"POST",dataType:"json",data:null,error:e,success:function(t,e,i){204===i.status&&(t={}),n(t)}},o=this.s.action,a=this.s.ajax||this.s.ajaxUrl,r="edit"===o||"remove"===o?_(this.s.editFields,"idSrc"):null;if(T.isArray(r)&&(r=r.join(",")),T.isPlainObject(a)&&a[o]&&(a=a[o]),T.isFunction(a)){var l=null,d=null;if(this.s.ajaxUrl){var c=this.s.ajaxUrl;c.create&&(l=c[o]),-1!==l.indexOf(" ")&&(d=(i=l.split(" "))[0],l=i[1]),l=l.replace(/_id_/,r)}a(d,l,t,n,e)}else{if("string"==typeof a?-1!==a.indexOf(" ")?(i=a.split(" "),s.type=i[0],s.url=i[1]):s.url=a:s=T.extend({},s,a||{}),s.url=s.url.replace(/_id_/,r),s.data){var u=T.isFunction(s.data)?s.data(t):s.data;t=T.isFunction(s.data)&&u?u:T.extend(!0,t,u)}if(s.data=t,"DELETE"===s.type){var p=T.param(s.data);s.url+=-1===s.url.indexOf("?")?"?"+p:"&"+p,delete s.data}T.ajax(s)}},l.prototype._assembleMain=function(){var t=this.dom;T(t.wrapper).prepend(t.header),T(t.footer).append(t.formError).append(t.buttons),T(t.bodyContent).append(t.formInfo).append(t.form)},l.prototype._blur=function(){var t=this.s.editOpts;!1!==this._event("preBlur")&&("submit"===t.onBlur?this.submit():"close"===t.onBlur&&this._close())},l.prototype._clearDynamicInfo=function(){var t=this.classes.field.error,e=this.s.fields;T("div."+t,this.dom.wrapper).removeClass(t),T.each(e,function(t,e){e.error("").message("")}),this.error("").message("")},l.prototype._close=function(t){!1!==this._event("preClose")&&(this.s.closeCb&&(this.s.closeCb(t),this.s.closeCb=null),this.s.closeIcb&&(this.s.closeIcb(),this.s.closeIcb=null),T("body").off("focus.editor-focus"),this.s.displayed=!1,this._event("close"))},l.prototype._closeReg=function(t){this.s.closeCb=t},l.prototype._crudArgs=function(t,e,i,n){var s,o,a,r,l=this;return r=T.isPlainObject(t)?t:"boolean"==typeof t?(a=t,e):(s=t,o=e,a=i,n),a===g&&(a=!0),s&&l.title(s),o&&l.buttons(o),{opts:T.extend({},this.s.formOptions.main,r),maybeOpen:function(){a&&l.open()}}},l.prototype._dataSource=function(t){var e=Array.prototype.slice.call(arguments);e.shift();var i=this.s.dataSource[t];if(i)return i.apply(this,e)},l.prototype._displayReorder=function(n){var s=T(this.dom.formContent),o=this.s.fields,t=this.s.order;n?this.s.includeFields=n:n=this.s.includeFields,s.children().detach(),T.each(t,function(t,e){var i=e instanceof l.Field?e.name():e;-1!==T.inArray(i,n)&&s.append(o[i].node())}),this._event("displayOrder",[this.s.displayed,this.s.action,s])},l.prototype._edit=function(t,e,i){var o,n=this.s.fields,a=[];this.s.editFields=e,this.s.modifier=t,this.s.action="edit",this.dom.form.style.display="block",this._actionClass(),T.each(n,function(n,s){s.multiReset(),o=!0,T.each(e,function(t,e){if(e.fields[n]){var i=s.valFromData(e.data);s.multiSet(t,i!==g?i:s.def()),e.displayFields&&!e.displayFields[n]&&(o=!1)}}),0!==s.multiIds().length&&o&&a.push(n)});for(var s=this.order().slice(),r=s.length;0<=r;r--)-1===T.inArray(s[r],a)&&s.splice(r,1);this._displayReorder(s),this.s.editData=T.extend(!0,{},this.multiGet()),this._event("initEdit",[_(e,"node")[0],_(e,"data")[0],t,i]),this._event("initMultiEdit",[e,t,i])},l.prototype._event=function(t,e){if(e=e||[],!T.isArray(t)){var i=T.Event(t);return T(this).triggerHandler(i,e),i.result}for(var n=0,s=t.length;n<s;n++)this._event(t[n],e)},l.prototype._eventName=function(t){for(var e,i=t.split(" "),n=0,s=i.length;n<s;n++){var o=(e=i[n]).match(/^on([A-Z])/);o&&(e=o[1].toLowerCase()+e.substring(3)),i[n]=e}return i.join(" ")},l.prototype._fieldNames=function(t){return t===g?this.fields():T.isArray(t)?t:[t]},l.prototype._focus=function(t,e){var i,n=this,s=T.map(t,function(t){return"string"==typeof t?n.s.fields[t]:t});"number"==typeof e?i=s[e]:e&&(i=0===e.indexOf("jq:")?T("div.DTE "+e.replace(/^jq:/,"")):this.s.fields[e]),(this.s.setFocus=i)&&i.focus()},l.prototype._formOptions=function(s){var o=this,t=i++,e=".dteInline"+t;return s.closeOnComplete!==g&&(s.onComplete=s.closeOnComplete?"close":"none"),s.submitOnBlur!==g&&(s.onBlur=s.submitOnBlur?"submit":"close"),s.submitOnReturn!==g&&(s.onReturn=s.submitOnReturn?"submit":"none"),s.blurOnBackground!==g&&(s.onBackground=s.blurOnBackground?"blur":"none"),this.s.editOpts=s,this.s.editCount=t,"string"!=typeof s.title&&"function"!=typeof s.title||(this.title(s.title),s.title=!0),"string"!=typeof s.message&&"function"!=typeof s.message||(this.message(s.message),s.message=!0),"boolean"!=typeof s.buttons&&(this.buttons(s.buttons),s.buttons=!0),T(p).on("keydown"+e,function(t){var e=T(p.activeElement),i=e.length?e[0].nodeName.toLowerCase():null,n=(T(e).attr("type"),"input"===i);if(o.s.displayed&&"submit"===s.onReturn&&13===t.keyCode&&n)t.preventDefault(),o.submit();else if(27===t.keyCode)switch(t.preventDefault(),s.onEsc){case"blur":o.blur();break;case"close":o.close();break;case"submit":o.submit()}else e.parents(".DTE_Form_Buttons").length&&(37===t.keyCode?e.prev("button").focus():39===t.keyCode&&e.next("button").focus())}),this.s.closeIcb=function(){T(p).off("keydown"+e)},e},l.prototype._legacyAjax=function(t,e,i){var n;this.s.legacyAjax&&("send"===t?"create"===e||"edit"===e?(T.each(i.data,function(t,e){if(n!==g)throw"Editor: Multi-row editing is not supported by the legacy Ajax data format";n=t}),i.data=i.data[n],"edit"===e&&(i.id=n)):(i.id=T.map(i.data,function(t,e){return e}),delete i.data):!i.data&&i.row?i.data=[i.row]:i.data=[])},l.prototype._optionsUpdate=function(n){var s=this;n.options&&T.each(this.s.fields,function(t,e){if(n.options[t]!==g){var i=s.field(t);i&&i.update&&i.update(n.options[t])}})},l.prototype._message=function(t,e){"function"==typeof e&&(e=e(this,new D.Api(this.s.table))),t=T(t),!e&&this.s.displayed?t.stop().fadeOut(function(){t.html("")}):e?this.s.displayed?t.stop().html(e).fadeIn():t.html(e).css("display","block"):t.html("").css("display","none")},l.prototype._multiInfo=function(){var t=this.s.fields,e=this.s.includeFields,i=!0;if(e)for(var n=0,s=e.length;n<s;n++){t[e[n]].isMultiValue()&&i?(t[e[n]].multiInfoShown(i),i=!1):t[e[n]].multiInfoShown(!1)}},l.prototype._postopen=function(t){var e=this,i=this.s.displayController.captureFocus;return i===g&&(i=!0),T(this.dom.form).off("submit.editor-internal").on("submit.editor-internal",function(t){t.preventDefault()}),!i||"main"!==t&&"bubble"!==t||T("body").on("focus.editor-focus",function(){0===T(p.activeElement).parents(".DTE").length&&0===T(p.activeElement).parents(".DTED").length&&e.s.setFocus&&e.s.setFocus.focus()}),this._multiInfo(),this._event("open",[t,this.s.action]),!0},l.prototype._preopen=function(t){return!1===this._event("preOpen",[t,this.s.action])?(this._clearDynamicInfo(),!1):(this.s.displayed=t,!0)},l.prototype._processing=function(t){var e=T(this.dom.wrapper),i=this.dom.processing.style,n=this.classes.processing.active;t?(i.display="block",e.addClass(n),T("div.DTE").addClass(n)):(i.display="none",e.removeClass(n),T("div.DTE").removeClass(n)),this.s.processing=t,this._event("processing",[t])},l.prototype._submit=function(n,s,t,o){var a,r,l=this,d=!1,e={},i={},c=D.ext.oApi._fnSetObjectDataFn,u=(this.s.dataSource,this.s.fields),p=this.s.action,f=this.s.editCount,h=this.s.modifier,m=this.s.editFields,_=this.s.editData,v=this.s.editOpts,b=v.submit,y={action:this.s.action,data:{}};if(this.s.dbTable&&(y.table=this.s.dbTable),"create"===p||"edit"===p)if(T.each(m,function(o,a){var r={},l={};T.each(u,function(t,e){if(a.fields[t]){var i=e.multiGet(o),n=c(t),s=T.isArray(i)&&-1!==t.indexOf("[]")?c(t.replace(/\[.*$/,"")+"-many-count"):null;n(r,i),s&&s(r,i.length),"edit"===p&&i!==_[t][o]&&(n(l,i),d=!0,s&&s(l,i.length))}}),T.isEmptyObject(r)||(e[o]=r),T.isEmptyObject(l)||(i[o]=l)}),"create"===p||"all"===b||"allIfChanged"===b&&d)y.data=e;else{if("changed"!==b||!d)return this.s.action=null,"close"!==v.onComplete||o!==g&&!o||this._close(!1),n&&n.call(this),this._processing(!1),void this._event("submitComplete");y.data=i}else"remove"===p&&T.each(m,function(t,e){y.data[t]=e.data});this._legacyAjax("send",p,y),r=T.extend(!0,{},y),t&&t(y),!1!==this._event("preSubmit",[y,p])?this._ajax(y,function(t){var e;if(l._legacyAjax("receive",p,t),l._event("postSubmit",[t,y,p]),t.error||(t.error=""),t.fieldErrors||(t.fieldErrors=[]),t.error||t.fieldErrors.length)l.error(t.error),T.each(t.fieldErrors,function(t,e){var i=u[e.name];i.error(e.status||"Error"),0===t&&(T(l.dom.bodyContent,l.s.wrapper).animate({scrollTop:T(i.node()).position().top},500),i.focus())}),s&&s.call(l,t);else{var i={};if(l._dataSource("prep",p,h,r,t.data,i),"create"===p||"edit"===p)for(a=0;a<t.data.length;a++)e=t.data[a],l._event("setData",[t,e,p]),"create"===p?(l._event("preCreate",[t,e]),l._dataSource("create",u,e,i),l._event(["create","postCreate"],[t,e])):"edit"===p&&(l._event("preEdit",[t,e]),l._dataSource("edit",h,u,e,i),l._event(["edit","postEdit"],[t,e]));else"remove"===p&&(l._event("preRemove",[t]),l._dataSource("remove",h,u,i),l._event(["remove","postRemove"],[t]));l._dataSource("commit",p,h,t.data,i),f===l.s.editCount&&(l.s.action=null,"close"!==v.onComplete||o!==g&&!o||l._close(!0)),n&&n.call(l,t),l._event("submitSuccess",[t,e])}l._processing(!1),l._event("submitComplete",[t,e])},function(t,e,i){l._event("postSubmit",[t,e,i,y]),l.error(l.i18n.error.system),l._processing(!1),s&&s.call(l,t,e,i),l._event(["submitError","submitComplete"],[t,e,i,y])}):this._processing(!1)},l.prototype._tidy=function(i){var t=this,n=this.s.table?new T.fn.dataTable.Api(this.s.table):null,s=!1;return n&&(s=n.settings()[0].oFeatures.bServerSide),this.s.processing?(this.one("submitComplete",function(){s?n.one("draw",i):setTimeout(function(){i()},10)}),!0):("inline"===this.display()||"bubble"===this.display())&&(this.one("close",function(){t.s.processing?t.one("submitComplete",function(t,e){s&&e?n.one("draw",i):setTimeout(function(){i()},10)}):setTimeout(function(){i()},10)}).blur(),!0)},l.defaults={table:null,ajaxUrl:null,fields:[],display:"lightbox",ajax:null,idSrc:"DT_RowId",events:{},i18n:{create:{button:"New",title:"Create new entry",submit:"Create"},edit:{button:"Edit",title:"Edit entry",submit:"Update"},remove:{button:"Delete",title:"Delete",submit:"Delete",confirm:{_:"Are you sure you wish to delete %d rows?",1:"Are you sure you wish to delete 1 row?"}},error:{system:'A system error has occurred (<a target="_blank" href="//datatables.net/tn/12">More information</a>).'},multi:{title:"Multiple values",info:"The selected items contain different values for this input. To edit and set all items for this input to the same value, click or tap here, otherwise they will retain their individual values.",restore:"Undo changes"},datetime:{previous:"Previous",next:"Next",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],amPm:["am","pm"],unknown:"-"}},formOptions:{bubble:T.extend({},l.models.formOptions,{title:!1,message:!1,buttons:"_basic",submit:"changed"}),inline:T.extend({},l.models.formOptions,{buttons:!1,submit:"changed"}),main:T.extend({},l.models.formOptions)},legacyAjax:!1},e=l.dataSources={},u=function(o,a,r,l,d,c){a.cells(r).indexes().each(function(t){var e=a.cell(t),i=a.row(t.row).data(),n=d(i),s=c||f(a,l,t.column);k(o,a,t.row,l,d),o[n].attach="object"==typeof r&&r.nodeName?[r]:[e.node()],o[n].displayFields=s})},f=function(t,e,i){function n(t,e){t.dataSrc()===e&&(a[t.name()]=t)}var s=t.settings()[0].aoColumns[i],o=s.editField!==g?s.editField:s.mData,a={};return T.each(e,function(t,e){if(T.isArray(o))for(var i=0;i<o.length;i++)n(e,o[i]);else n(e,o)}),T.isEmptyObject(a)&&l.error("Unable to automatically determine field from source. Please specify the field name.",11),a},e.dataTable={individual:function(t,e){var i,n,s=D.ext.oApi._fnGetObjectDataFn(this.s.idSrc),o=C(this.s.table),a=this.s.fields,r={};return t.nodeName&&T(t).hasClass("dtr-data")&&(n=t,t=o.responsive.index(T(t).closest("li"))),e&&(T.isArray(e)||(e=[e]),i={},T.each(e,function(t,e){i[e]=a[e]})),u(r,o,t,a,s,i),n&&T.each(r,function(t,e){e.attach=[n]}),r},fields:function(t){var e,i,n,s,o,a=D.ext.oApi._fnGetObjectDataFn(this.s.idSrc),r=C(this.s.table),l=this.s.fields,d={};return!T.isPlainObject(t)||t.rows===g&&t.columns===g&&t.cells===g?k(d,r,t,l,a):(t.rows!==g&&k(d,r,t.rows,l,a),t.columns!==g&&(e=d,i=r,n=t.columns,s=l,o=a,i.cells(null,n).indexes().each(function(t){u(e,i,t,s,o)})),t.cells!==g&&u(d,r,t.cells,l,a)),d},create:function(t,e){var i=C(this.s.table);if(!x(i,this)){var n=i.row.add(e);E(n.node())}},edit:function(t,e,i,n){var s=C(this.s.table);if(!x(s,this)){var o,a=D.ext.oApi._fnGetObjectDataFn(this.s.idSrc),r=a(i);if((o=s.row("#"+r)).any()||(o=s.row(function(t,e,i){return r==a(e)})),o.any()){o.data(i);var l=T.inArray(r,n.rowIds);n.rowIds.splice(l,1)}else o=s.row.add(i);E(o.node())}},remove:function(t,e){var i=C(this.s.table);x(i,this)||i.rows(t).remove()},prep:function(t,e,i,n,s){"edit"===t&&(s.rowIds=T.map(i.data,function(t,e){if(!T.isEmptyObject(i.data[e]))return e}))},commit:function(t,e,i,n){var s=C(this.s.table);if("edit"===t&&n.rowIds.length)for(var o,a=n.rowIds,r=D.ext.oApi._fnGetObjectDataFn(this.s.idSrc),l=0,d=a.length;l<d;l++)(o=s.row("#"+a[l])).any()||(o=s.row(function(t,e,i){return a[l]===r(e)})),o.any()&&o.remove();var c=this.s.editOpts.drawType;"none"!==c&&s.draw(c)}},e.html={initField:function(t){var e=T('[data-editor-label="'+(t.data||t.name)+'"]');!t.label&&e.length&&(t.label=e.html())},individual:function(i,n){if((i instanceof T||i.nodeName)&&(n=n||[T(i).attr("data-editor-field")],i=T(i).parents("[data-editor-id]").data("editor-id")),i=i||"keyless",n&&!T.isArray(n)&&(n=[n]),!n||0===n.length)throw"Cannot automatically determine field name from data source";var t=e.html.fields.call(this,i),s=this.s.fields,o={};return T.each(n,function(t,e){o[e]=s[e]}),T.each(t,function(t,e){e.type="cell",e.attach=function(t,e){for(var i=T(),n=0,s=e.length;n<s;n++)i=i.add(O(t,e[n]));return i}(i,n).toArray(),e.fields=s,e.displayFields=o}),t},fields:function(n){var t={},s={},e=this.s.fields;return n=n||"keyless",T.each(e,function(t,e){var i=O(n,e.dataSrc()).html();e.valToData(s,null===i?g:i)}),t[n]={idSrc:n,data:s,node:p,fields:e,type:"row"},t},create:function(t,e){if(e){var i=D.ext.oApi._fnGetObjectDataFn(this.s.idSrc)(e);T('[data-editor-id="'+i+'"]').length&&F(i,t,e)}},edit:function(t,e,i){F(D.ext.oApi._fnGetObjectDataFn(this.s.idSrc)(i)||"keyless",e,i)},remove:function(t,e){T('[data-editor-id="'+t+'"]').remove()}},l.classes={wrapper:"DTE",processing:{indicator:"DTE_Processing_Indicator",active:"DTE_Processing"},header:{wrapper:"DTE_Header",content:"DTE_Header_Content"},body:{wrapper:"DTE_Body",content:"DTE_Body_Content"},footer:{wrapper:"DTE_Footer",content:"DTE_Footer_Content"},form:{wrapper:"DTE_Form",content:"DTE_Form_Content",tag:"",info:"DTE_Form_Info",error:"DTE_Form_Error",buttons:"DTE_Form_Buttons",button:"btn"},field:{wrapper:"DTE_Field",typePrefix:"DTE_Field_Type_",namePrefix:"DTE_Field_Name_",label:"DTE_Label",input:"DTE_Field_Input",inputControl:"DTE_Field_InputControl",error:"DTE_Field_StateError","msg-label":"DTE_Label_Info","msg-error":"DTE_Field_Error","msg-message":"DTE_Field_Message","msg-info":"DTE_Field_Info",multiValue:"multi-value",multiInfo:"multi-info",multiRestore:"multi-restore"},actions:{create:"DTE_Action_Create",edit:"DTE_Action_Edit",remove:"DTE_Action_Remove"},bubble:{wrapper:"DTE DTE_Bubble",liner:"DTE_Bubble_Liner",table:"DTE_Bubble_Table",close:"DTE_Bubble_Close",pointer:"DTE_Bubble_Triangle",bg:"DTE_Bubble_Background"}},D.TableTools){var S=D.TableTools.BUTTONS,I={sButtonText:null,editor:null,formTitle:null};S.editor_create=T.extend(!0,S.text,I,{formButtons:[{label:null,fn:function(t){this.submit()}}],fnClick:function(t,e){var i=e.editor,n=i.i18n.create,s=e.formButtons;s[0].label||(s[0].label=n.submit),i.create({title:n.title,buttons:s})}}),S.editor_edit=T.extend(!0,S.select_single,I,{formButtons:[{label:null,fn:function(t){this.submit()}}],fnClick:function(t,e){var i=this.fnGetSelectedIndexes();if(1===i.length){var n=e.editor,s=n.i18n.edit,o=e.formButtons;o[0].label||(o[0].label=s.submit),n.edit(i[0],{title:s.title,buttons:o})}}}),S.editor_remove=T.extend(!0,S.select,I,{question:null,formButtons:[{label:null,fn:function(t){var e=this;this.submit(function(t){T.fn.dataTable.TableTools.fnGetInstance(T(e.s.table).DataTable().table().node()).fnSelectNone()})}}],fnClick:function(t,e){var i=this.fnGetSelectedIndexes();if(0!==i.length){var n=e.editor,s=n.i18n.remove,o=e.formButtons,a="string"==typeof s.confirm?s.confirm:s.confirm[i.length]?s.confirm[i.length]:s.confirm._;o[0].label||(o[0].label=s.submit),n.remove(i,{message:a.replace(/%d/g,i.length),title:s.title,buttons:o})}}})}function A(t,e){null!==e&&e!==g||(e=t.uploadText||JS_CHOOSE_FILE+"..."),t._input.find("div.upload button").html(e)}function j(s,e,i){var t=s.classes.form.button,n=T('<div class="editor_upload"><div class="eu_table"><div class="row"><div class="cell upload"><button class="'+t+'" /> </button><input type="file"/></div><div class="cell clearValue"><button class="'+t+'" >clear</button></div></div><div class="row second"><div class="cell"><div class="rendered"/></div></div></div></div>');if(e._input=n,e._enabled=!0,A(e),m.FileReader&&!1!==e.dragDrop){n.find("div.drop span").text(e.dragDropText||"Drag and drop a file here to upload");var o=n.find("div.drop");o.on("drop",function(t){return e._enabled&&(l.upload(s,e,t.originalEvent.dataTransfer.files,A,i),o.removeClass("over")),!1}).on("dragleave dragexit",function(t){return e._enabled&&o.removeClass("over"),!1}).on("dragover",function(t){return e._enabled&&o.addClass("over"),!1}),s.on("open",function(){T("body").on("dragover.DTE_Upload drop.DTE_Upload",function(t){return!1})}).on("close",function(){T("body").off("dragover.DTE_Upload drop.DTE_Upload")})}else n.addClass("noDrop"),n.append(n.find("div.rendered"));function a(e,i,t){var n=e.getAll(i);n.splice(t,1),e.delete(i),n.forEach(function(t){return e.append(i,t)}),0===n.length&&delete s.frmData}return n.find("div.clearValue button").on("click",function(){l.fieldTypes.upload.set.call(s,e,""),delete s.frmData,n.find(".divUploadFile,img").remove()}),n.on("click",".faFileRemove",function(t){var e=n.find(".faFileRemove");n.find("input[type=file]").val("");var i=e.index(t.currentTarget);T(this).closest(".divUploadFile").next("img").remove(),T(this).closest(".divUploadFile").remove(),a(s.frmData,"upload[]",i)}),n.find("input[type=file]").on("change",function(t){t.stopImmediatePropagation(),s.frmData||(s.frmData=new FormData),m[s.s.table.substring(1)].inRowDoc&&(a(s.frmData,"upload[]",0),s.frmData||(s.frmData=new FormData),s.frmData.append("upload[]",this.files[0]),s.frmData.append("inRowDoc",JSON.stringify(m[s.s.table.substring(1)].inRowDoc)),n.find(".divUploadFile").remove()),n.append('<div class="divUploadFile"><span class="spanFileName">'+this.files[0].name+'<i class="fas fa-times faFileRemove pull-right"></i><div/>')}),n}function U(t){setTimeout(function(){t.trigger("change",{editor:!0,editorSet:!0})},0)}return T.extend(D.ext.buttons,{create:{text:function(t,e,i){return t.i18n("buttons.create",i.editor.i18n.create.button)},className:"buttons-create",editor:null,formButtons:{label:function(t){return t.i18n.create.submit},fn:function(t){this.submit()}},formMessage:null,formTitle:null,action:function(t,e,i,n){var s=n.editor;n.formButtons;s.create({buttons:n.formButtons,message:n.formMessage,title:n.formTitle||s.i18n.create.title})}},edit:{extend:"selected",text:function(t,e,i){return t.i18n("buttons.edit",i.editor.i18n.edit.button)},className:"buttons-edit",editor:null,formButtons:{label:function(t){return t.i18n.edit.submit},fn:function(t){this.submit()}},formMessage:null,formTitle:null,action:function(t,e,i,n){var s=n.editor,o=e.rows({selected:!0}).indexes(),a=e.columns({selected:!0}).indexes(),r=e.cells({selected:!0}).indexes(),l=a.length||r.length?{rows:o,columns:a,cells:r}:o;s.edit(l,{message:n.formMessage,buttons:n.formButtons,title:n.formTitle||s.i18n.edit.title})}},remove:{extend:"selected",text:function(t,e,i){return t.i18n("buttons.remove",i.editor.i18n.remove.button)},className:"buttons-remove",editor:null,formButtons:{label:function(t){return t.i18n.remove.submit},fn:function(t){this.submit()}},formMessage:function(t,e){var i=e.rows({selected:!0}).indexes(),n=t.i18n.remove;return("string"==typeof n.confirm?n.confirm:n.confirm[i.length]?n.confirm[i.length]:n.confirm._).replace(/%d/g,i.length)},formTitle:null,action:function(t,e,i,n){var s=n.editor;s.remove(e.rows({selected:!0}).indexes(),{buttons:n.formButtons,message:n.formMessage,title:n.formTitle||s.i18n.remove.title})}}}),l.fieldTypes={},l.DateTime=function(t,e){this.c=T.extend(!0,{},l.DateTime.defaults,e);var i=this.c.classPrefix,n=this.c.i18n;if(!m.moment&&"YYYY-MM-DD"!==this.c.format)throw"Editor datetime: Without momentjs only the format 'YYYY-MM-DD' can be used";function s(t){return'<div class="'+i+'-timeblock"><div class="'+i+'-iconUp"><button>'+n.previous+'</button></div><div class="'+i+'-label"><span/><select class="'+i+"-"+t+'"/></div><div class="'+i+'-iconDown"><button>'+n.next+"</button></div></div>"}function o(){return"<span>:</span>"}var a=T('<div class="'+i+'"><div class="'+i+'-date"><div class="'+i+'-title"><div class="'+i+'-iconLeft"><button>'+n.previous+'</button></div><div class="'+i+'-iconRight"><button>'+n.next+'</button></div><div class="'+i+'-label"><span/><select class="'+i+'-month"/></div><div class="'+i+'-label"><span/><select class="'+i+'-year"/></div></div><div class="'+i+'-calendar"/></div><div class="'+i+'-time">'+s("hours")+o()+s("minutes")+o()+s("seconds")+s("ampm")+"</div></div>");this.dom={container:a,date:a.find("."+i+"-date"),title:a.find("."+i+"-title"),calendar:a.find("."+i+"-calendar"),time:a.find("."+i+"-time"),input:T(t)},this.s={d:null,display:null,namespace:"editor-dateime-"+l.DateTime._instance++,parts:{date:null!==this.c.format.match(/[YMD]/),time:null!==this.c.format.match(/[Hhm]/),seconds:-1!==this.c.format.indexOf("s"),hours12:null!==this.c.format.match(/[haA]/)}},this.dom.container.append(this.dom.date).append(this.dom.time),this.dom.date.append(this.dom.title).append(this.dom.calendar),this._constructor()},T.extend(l.DateTime.prototype,{destroy:function(){this._hide(),this.dom.container().off("").empty(),this.dom.input.off(".editor-datetime")},max:function(t){this.c.maxDate=t,this._optionsTitle(),this._setCalander()},min:function(t){this.c.minDate=t,this._optionsTitle(),this._setCalander()},owns:function(t){return 0<T(t).parents().filter(this.dom.container).length},val:function(t,e){if(t===g)return this.s.d;if(t instanceof Date)this.s.d=this._dateToUtc(t);else if(null===t||""===t)this.s.d=null;else if("string"==typeof t)if(m.moment){var i=m.moment.utc(t,this.c.format,this.c.momentLocale,this.c.momentStrict);this.s.d=i.isValid()?i.toDate():null}else{var n=t.match(/(\d{4})\-(\d{2})\-(\d{2})/);this.s.d=n?new Date(Date.UTC(n[1],n[2]-1,n[3])):null}!e&&e!==g||(this.s.d?this._writeOutput():this.dom.input.val(t)),this.s.d||(this.s.d=this._dateToUtc(new Date)),this.s.display=new Date(this.s.d.toString()),this._setTitle(),this._setCalander(),this._setTime()},_constructor:function(){var o=this,a=this.c.classPrefix,t=(this.dom.container,this.c.i18n);this.s.parts.date||this.dom.date.css("display","none"),this.s.parts.time||this.dom.time.css("display","none"),this.s.parts.seconds||(this.dom.time.children("div.editor-datetime-timeblock").eq(2).remove(),this.dom.time.children("span").eq(1).remove()),this.s.parts.hours12||this.dom.time.children("div.editor-datetime-timeblock").last().remove(),this._optionsTitle(),this._optionsTime("hours",this.s.parts.hours12?12:24,1),this._optionsTime("minutes",60,this.c.minutesIncrement),this._optionsTime("seconds",60,this.c.secondsIncrement),this._options("ampm",["am","pm"],t.amPm),this.dom.input.on("focus.editor-datetime click.editor-datetime",function(){o.dom.container.is(":visible")||o.dom.input.is(":disabled")||(o.val(o.dom.input.val(),!1),o._show())}).on("keyup.editor-datetime",function(){o.dom.container.is(":visible")&&o.val(o.dom.input.val(),!1)}),this.dom.container.on("change","select",function(){var t=T(this),e=t.val();if(t.hasClass(a+"-month"))o._correctMonth(o.s.display,e),o._setTitle(),o._setCalander();else if(t.hasClass(a+"-year"))o.s.display.setUTCFullYear(e),o._setTitle(),o._setCalander();else if(t.hasClass(a+"-hours")||t.hasClass(a+"-ampm")){if(o.s.parts.hours12){var i=+T(o.dom.container).find("."+a+"-hours").val(),n="pm"===T(o.dom.container).find("."+a+"-ampm").val();o.s.d.setUTCHours(12!=i||n?n&&12!=i?12+i:i:0)}else o.s.d.setUTCHours(e);o._setTime(),o._writeOutput(!0)}else t.hasClass(a+"-minutes")?(o.s.d.setUTCMinutes(e),o._setTime(),o._writeOutput(!0)):t.hasClass(a+"-seconds")&&(o.s.d.setSeconds(e),o._setTime(),o._writeOutput(!0));o.dom.input.focus(),o._position()}).on("click",function(t){var e=t.target.nodeName.toLowerCase();if("select"!==e)if(t.stopPropagation(),"button"===e){var i,n=T(t.target),s=n.parent();if(s.hasClass("disabled"))return;s.hasClass(a+"-iconLeft")?(o.s.display.setUTCMonth(o.s.display.getUTCMonth()-1),o._setTitle(),o._setCalander(),o.dom.input.focus()):s.hasClass(a+"-iconRight")?(o._correctMonth(o.s.display,o.s.display.getUTCMonth()+1),o._setTitle(),o._setCalander(),o.dom.input.focus()):s.hasClass(a+"-iconUp")?((i=s.parent().find("select")[0]).selectedIndex=i.selectedIndex!==i.options.length-1?i.selectedIndex+1:0,T(i).change()):s.hasClass(a+"-iconDown")?((i=s.parent().find("select")[0]).selectedIndex=0===i.selectedIndex?i.options.length-1:i.selectedIndex-1,T(i).change()):(o.s.d||(o.s.d=o._dateToUtc(new Date)),o.s.d.setUTCFullYear(n.data("year")),o.s.d.setUTCMonth(n.data("month")),o.s.d.setUTCDate(n.data("day")),o._writeOutput(!0),setTimeout(function(){o._hide()},10))}else o.dom.input.focus()})},_compareDates:function(t,e){return this._dateToUtcString(t)===this._dateToUtcString(e)},_correctMonth:function(t,e){var i=this._daysInMonth(t.getUTCFullYear(),e),n=t.getUTCDate()>i;t.setUTCMonth(e),n&&(t.setUTCDate(i),t.setUTCMonth(e))},_daysInMonth:function(t,e){return[31,t%4==0&&(t%100!=0||t%400==0)?29:28,31,30,31,30,31,31,30,31,30,31][e]},_dateToUtc:function(t){return new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds()))},_dateToUtcString:function(t){return t.getUTCFullYear()+"-"+this._pad(t.getUTCMonth()+1)+"-"+this._pad(t.getUTCDate())},_hide:function(){var t=this.s.namespace;this.dom.container.detach(),T(m).off("."+t),T(p).off("keydown."+t),T("div.DTE_Body_Content").off("scroll."+t),T("body").off("click."+t)},_hours24To12:function(t){return 0===t?12:12<t?t-12:t},_htmlDay:function(t){if(t.empty)return'<td class="empty"></td>';var e=["day"],i=this.c.classPrefix;return t.disabled&&e.push("disabled"),t.today&&e.push("today"),t.selected&&e.push("selected"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'"><button class="'+i+"-button "+i+'-day" type="button" data-year="'+t.year+'" data-month="'+t.month+'" data-day="'+t.day+'">'+t.day+"</button></td>"},_htmlMonth:function(t,e){var i=new Date,n=this._daysInMonth(t,e),s=new Date(Date.UTC(t,e,1)).getUTCDay(),o=[],a=[];0<this.c.firstDay&&(s-=this.c.firstDay)<0&&(s+=7);for(var r=n+s,l=r;7<l;)l-=7;r+=7-l;var d=this.c.minDate,c=this.c.maxDate;d&&(d.setUTCHours(0),d.setUTCMinutes(0),d.setSeconds(0)),c&&(c.setUTCHours(23),c.setUTCMinutes(59),c.setSeconds(59));for(var u=0,p=0;u<r;u++){var f=new Date(Date.UTC(t,e,u-s+1)),h=!!this.s.d&&this._compareDates(f,this.s.d),m=this._compareDates(f,i),_=u<s||n+s<=u,v=d&&f<d||c&&c<f,b=this.c.disableDays;T.isArray(b)&&-1!==T.inArray(f.getUTCDay(),b)?v=!0:"function"==typeof b&&!0===b(f)&&(v=!0);var y={day:u-s+1,month:e,year:t,selected:h,today:m,disabled:v,empty:_};a.push(this._htmlDay(y)),7==++p&&(this.c.showWeekNumber&&a.unshift(this._htmlWeekOfYear(u-s,e,t)),o.push("<tr>"+a.join("")+"</tr>"),a=[],p=0)}var g=this.c.classPrefix+"-table";return this.c.showWeekNumber&&(g+=" weekNumber"),'<table class="'+g+'"><thead>'+this._htmlMonthHead()+"</thead><tbody>"+o.join("")+"</tbody></table>"},_htmlMonthHead:function(){function t(t){for(t+=i;7<=t;)t-=7;return n.weekdays[t]}var e=[],i=this.c.firstDay,n=this.c.i18n;this.c.showWeekNumber&&e.push("<th></th>");for(var s=0;s<7;s++)e.push("<th>"+t(s)+"</th>");return e.join("")},_htmlWeekOfYear:function(t,e,i){var n=new Date(i,0,1),s=Math.ceil(((new Date(i,e,t)-n)/864e5+n.getUTCDay()+1)/7);return'<td class="'+this.c.classPrefix+'-week">'+s+"</td>"},_options:function(t,e,i){i=i||e;var n=this.dom.container.find("select."+this.c.classPrefix+"-"+t);n.empty();for(var s=0,o=e.length;s<o;s++)n.append('<option value="'+e[s]+'">'+i[s]+"</option>")},_optionSet:function(t,e){var i=this.dom.container.find("select."+this.c.classPrefix+"-"+t),n=i.parent().children("span");i.val(e);var s=i.find("option:selected");n.html(0!==s.length?s.text():this.c.i18n.unknown)},_optionsTime:function(t,e,i){var n=this.c.classPrefix,s=this.dom.container.find("select."+n+"-"+t),o=0,a=e,r=12===e?function(t){return t}:this._pad;12===e&&(o=1,a=13);for(var l=o;l<a;l+=i)s.append('<option value="'+l+'">'+r(l)+"</option>")},_optionsTitle:function(t,e){this.c.classPrefix;var i=this.c.i18n,n=this.c.minDate,s=this.c.maxDate,o=n?n.getFullYear():null,a=s?s.getFullYear():null,r=null!==o?o:(new Date).getFullYear()-this.c.yearRange,l=null!==a?a:(new Date).getFullYear()+this.c.yearRange;this._options("month",this._range(0,11),i.months),this._options("year",this._range(r,l))},_pad:function(t){return t<10?"0"+t:t},_position:function(){var t=this.dom.input.offset(),e=this.dom.container,i=this.dom.input.outerHeight();e.css({top:t.top+i,left:t.left}).appendTo("body");var n=e.outerHeight(),s=T("body").scrollTop();if(t.top+i+n-s>T(m).height()){var o=t.top-n;e.css("top",o<0?0:o)}},_range:function(t,e){for(var i=[],n=t;n<=e;n++)i.push(n);return i},_setCalander:function(){this.dom.calendar.empty().append(this._htmlMonth(this.s.display.getUTCFullYear(),this.s.display.getUTCMonth()))},_setTitle:function(){this._optionSet("month",this.s.display.getUTCMonth()),this._optionSet("year",this.s.display.getUTCFullYear())},_setTime:function(){var t=this.s.d,e=t?t.getUTCHours():0;this.s.parts.hours12?(this._optionSet("hours",this._hours24To12(e)),this._optionSet("ampm",e<12?"am":"pm")):this._optionSet("hours",e),this._optionSet("minutes",t?t.getUTCMinutes():0),this._optionSet("seconds",t?t.getSeconds():0)},_show:function(){var e=this,t=this.s.namespace;this._position(),T(m).on("scroll."+t+" resize."+t,function(){e._position()}),T("div.DTE_Body_Content").on("scroll."+t,function(){e._position()}),T(p).on("keydown."+t,function(t){9!==t.keyCode&&27!==t.keyCode&&13!==t.keyCode||e._hide()}),setTimeout(function(){T("body").on("click."+t,function(t){T(t.target).parents().filter(e.dom.container).length||t.target===e.dom.input[0]||e._hide()})},10)},_writeOutput:function(t){var e=this.s.d,i=m.moment?m.moment.utc(e,g,this.c.momentLocale,this.c.momentStrict).format(this.c.format):e.getUTCFullYear()+"-"+this._pad(e.getUTCMonth()+1)+"-"+this._pad(e.getUTCDate());this.dom.input.val(i),t&&this.dom.input.focus()}}),l.DateTime._instance=0,l.DateTime.defaults={classPrefix:"editor-datetime",disableDays:null,firstDay:1,format:"YYYY-MM-DD",i18n:l.defaults.i18n.datetime,maxDate:null,minDate:null,minutesIncrement:1,momentStrict:!0,momentLocale:"en",secondsIncrement:1,showWeekNumber:!1,yearRange:10},h=l.fieldTypes,v=T.extend(!0,{},l.models.fieldType,{get:function(t){return t._input.val()},set:function(t,e){t._input.val(e),U(t._input)},enable:function(t){t._input.prop("disabled",!1)},disable:function(t){t._input.prop("disabled",!0)}}),h.hidden={create:function(t){return delete t.label,t._input=T('<input style="display:none"/>').attr(T.extend({id:l.safeId(t.id),type:"text"},t.attr||{})),t._input[0]},get:function(t){return t._val},set:function(t,e){t._val=e}},h.readonly=T.extend(!0,{},v,{create:function(t){return t._input=T("<input/>").attr(T.extend({id:l.safeId(t.id),type:"text",readonly:"readonly"},t.attr||{})),t._input[0]}}),h.text=T.extend(!0,{},v,{create:function(t){return t._input=T("<input/>").attr(T.extend({id:l.safeId(t.id),type:"text"},t.attr||{})),t._input[0]}}),h.password=T.extend(!0,{},v,{create:function(t){return t._input=T("<input/>").attr(T.extend({id:l.safeId(t.id),type:"password"},t.attr||{})),t._input[0]}}),h.textarea=T.extend(!0,{},v,{create:function(t){return t._input=T("<textarea/>").attr(T.extend({id:l.safeId(t.id)},t.attr||{})),t._input[0]}}),h.select=T.extend(!0,{},v,{_addOptions:function(t,e){var n=t._input[0].options,s=0;if(n.length=0,t.placeholder!==g){s+=1,n[0]=new Option(t.placeholder,t.placeholderValue!==g?t.placeholderValue:"");var i=t.placeholderDisabled===g||t.placeholderDisabled;n[0].hidden=i,n[0].disabled=i}e&&l.pairs(e,t.optionsPair,function(t,e,i){n[i+s]=new Option(e,t),n[i+s]._editor_val=t})},create:function(i){return i._input=T("<select/>").attr(T.extend({id:l.safeId(i.id),multiple:!0===i.multiple},i.attr||{})).on("change.dte",function(t,e){e&&e.editor||(i._lastSet=h.select.get(i))}),h.select._addOptions(i,i.options||i.ipOpts),i._input[0]},update:function(t,e){h.select._addOptions(t,e);var i=t._lastSet;i!==g&&h.select.set(t,i,!0),U(t._input)},get:function(t){var e=t._input.find("option:selected").map(function(){return this._editor_val}).toArray();return t.multiple?t.separator?e.join(t.separator):e:e.length?e[0]:null},set:function(t,e,i){i||(t._lastSet=e),t.multiple&&t.separator&&!T.isArray(e)?e=e.split(t.separator):T.isArray(e)||(e=[e]);var n,s,o=e.length,a=!1,r=t._input.find("option");return t._input.find("option").each(function(){for(s=!1,n=0;n<o;n++)if(this._editor_val==e[n]){a=s=!0;break}this.selected=s}),t.placeholder&&!a&&!t.multiple&&r.length&&(r[0].selected=!0),i||U(t._input),a},destroy:function(t){t._input.off("change.dte")}}),h.checkbox=T.extend(!0,{},v,{_addOptions:function(n,t){n._input[0].options;var s=n._input.empty();t&&l.pairs(t,n.optionsPair,function(t,e,i){s.append('<div><input id="'+l.safeId(n.id)+"_"+i+'" type="checkbox" /><label for="'+l.safeId(n.id)+"_"+i+'">'+e+"</label></div>"),T("input:last",s).attr("value",t)[0]._editor_val=t})},create:function(t){return t._input=T("<div />"),h.checkbox._addOptions(t,t.options||t.ipOpts),t._input[0]},get:function(t){var e=[];return t._input.find("input:checked").each(function(){e.push(this._editor_val)}),t.separator?1===e.length?e[0]:e.join(t.separator):e},set:function(t,e){var i=t._input.find("input");T.isArray(e)||"string"!=typeof e?T.isArray(e)||(e=[e]):e=e.split(t.separator||"|");var n,s,o=e.length;i.each(function(){for(s=!1,n=0;n<o;n++)if(this._editor_val==e[n]){s=!0;break}this.checked=s}),U(i)},enable:function(t){t._input.find("input").prop("disabled",!1)},disable:function(t){t._input.find("input").prop("disabled",!0)},update:function(t,e){var i=h.checkbox,n=i.get(t);i._addOptions(t,e),i.set(t,n)}}),h.radio=T.extend(!0,{},v,{_addOptions:function(n,t){n._input[0].options;var s=n._input.empty();t&&l.pairs(t,n.optionsPair,function(t,e,i){s.append('<div><input id="'+l.safeId(n.id)+"_"+i+'" type="radio" name="'+n.name+'" /><label for="'+l.safeId(n.id)+"_"+i+'">'+e+"</label></div>"),T("input:last",s).attr("value",t)[0]._editor_val=t})},create:function(t){return t._input=T("<div />"),h.radio._addOptions(t,t.options||t.ipOpts),this.on("open",function(){t._input.find("input").each(function(){this._preChecked&&(this.checked=!0)})}),t._input[0]},get:function(t){var e=t._input.find("input:checked");return e.length?e[0]._editor_val:g},set:function(t,e){t._input.find("input").each(function(){this._preChecked=!1,this._editor_val==e?(this.checked=!0,this._preChecked=!0):(this.checked=!1,this._preChecked=!1)}),U(t._input.find("input:checked"))},enable:function(t){t._input.find("input").prop("disabled",!1)},disable:function(t){t._input.find("input").prop("disabled",!0)},update:function(t,e){var i=h.radio,n=i.get(t);i._addOptions(t,e);var s=t._input.find("input");i.set(t,s.filter('[value="'+n+'"]').length?n:s.eq(0).attr("value"))}}),h.date=T.extend(!0,{},v,{create:function(t){return t._input=T("<input />").attr(T.extend({id:l.safeId(t.id),type:"text"},t.attr)),T.datepicker?(t._input.addClass("jqueryui"),t.dateFormat||(t.dateFormat=T.datepicker.RFC_2822),t.dateImage===g&&(t.dateImage="../../images/calender.png"),setTimeout(function(){T(t._input).datepicker(T.extend({showOn:"both",dateFormat:t.dateFormat,buttonImage:t.dateImage,buttonImageOnly:!0},t.opts)),T("#ui-datepicker-div").css("display","none")},10)):t._input.attr("type","date"),t._input[0]},set:function(t,e){T.datepicker&&t._input.hasClass("hasDatepicker")?t._input.datepicker("setDate",e).change():T(t._input).val(e)},enable:function(t){T.datepicker?t._input.datepicker("enable"):T(t._input).prop("disabled",!1)},disable:function(t){T.datepicker?t._input.datepicker("disable"):T(t._input).prop("disabled",!0)},owns:function(t,e){return!(!T(e).parents("div.ui-datepicker").length&&!T(e).parents("div.ui-datepicker-header").length)}}),h.datetime=T.extend(!0,{},v,{create:function(t){return t._input=T("<input />").attr(T.extend(!0,{id:l.safeId(t.id),type:"text"},t.attr)),t._picker=new l.DateTime(t._input,T.extend({format:t.format,i18n:this.i18n.datetime},t.opts)),t._input[0]},set:function(t,e){t._picker.val(e),U(t._input)},owns:function(t,e){return t._picker.owns(e)},destroy:function(t){t._picker.destroy()},minDate:function(t,e){t._picker.min(e)},maxDate:function(t,e){t._picker.max(e)}}),h.upload=T.extend(!0,{},v,{create:function(e){var i=this;return j(i,e,function(t){l.fieldTypes.upload.set.call(i,e,t[0])})},get:function(t){return t._val},set:function(t,e){t._val=e;var i=t._input;if(t.display){var n=i.find("div.rendered");t._val?n.html(t.display(t._val)):n.empty()}var s=i.find("div.clearValue button");e&&t.clearText?(s.html(t.clearText),i.removeClass("noClear")):i.addClass("noClear"),t._input.find("input").triggerHandler("upload.editor",[t._val])},enable:function(t){t._input.find("input").prop("disabled",!1),t._enabled=!0},disable:function(t){t._input.find("input").prop("disabled",!0),t._enabled=!1}}),h.uploadMany=T.extend(!0,{},v,{create:function(i){var n=this,t=j(n,i,function(t){i._val=i._val.concat(t),l.fieldTypes.uploadMany.set.call(n,i,i._val)});return t.addClass("multi").on("click","button.remove",function(t){t.stopPropagation();var e=T(this).data("idx");i._val.splice(e,1),l.fieldTypes.uploadMany.set.call(n,i,i._val)}),t},get:function(t){return t._val},set:function(i,t){if(t=t||[],!T.isArray(t))throw"Upload collections must have an array as a value";i._val=t;var n=this,e=i._input;if(i.display){var s=e.find("div.rendered").empty();if(t.length){var o=T("<ul/>").appendTo(s);T.each(t,function(t,e){o.append("<li>"+i.display(e,t)+' <button class="'+n.classes.form.button+' remove" data-idx="'+t+'">&times;</button></li>')})}else s.append("<span>"+(i.noFileText||"No files")+"</span>")}i._input.find("input").triggerHandler("upload.editor",[i._val])},enable:function(t){t._input.find("input").prop("disabled",!1),t._enabled=!0},disable:function(t){t._input.find("input").prop("disabled",!0),t._enabled=!1}}),D.ext.editorFields&&T.extend(l.fieldTypes,D.ext.editorFields),D.ext.editorFields=l.fieldTypes,l.files={},l.prototype.CLASS="Editor",l.version="1.5.6",l});